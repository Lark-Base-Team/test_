function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xt.apply(null,arguments)}var Yr={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function le(e){return typeof e=="number"}function Ae(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function Du(e){return typeof e=="bigint"}function Xr(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function Gr(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Kr(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Ye(e){return typeof e=="string"}var pe=Array.isArray;function Ne(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function Ot(e){return Array.isArray(e)||Ne(e)}function pu(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function du(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function vu(e){return e&&e.constructor.prototype.isRange===!0||!1}function ir(e){return e&&e.constructor.prototype.isIndex===!0||!1}function mu(e){return typeof e=="boolean"}function gu(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function Fu(e){return e&&e.constructor.prototype.isHelp===!0||!1}function wu(e){return typeof e=="function"}function Eu(e){return e instanceof Date}function Au(e){return e instanceof RegExp}function or(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!Xr(e)&&!Gr(e))}function Cu(e){return e===null}function yu(e){return e===void 0}function Bu(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Nu(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function bu(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function _u(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function Mu(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Su(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function Tu(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function xu(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ou(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function Iu(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function zu(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function Pu(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function Ru(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function qu(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function $u(e){return e&&e.isRelationalNode===!0&&e.constructor.prototype.isNode===!0||!1}function Uu(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function Lu(e){return e&&e.constructor.prototype.isChain===!0||!1}function ht(e){var t=typeof e;return t==="object"?e===null?"null":Ae(e)?"BigNumber":e.constructor&&e.constructor.name?e.constructor.name:"Object":t}function me(e){var t=typeof e;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return me(r)});if(e instanceof Date)return new Date(e.valueOf());if(Ae(e))return e;if(or(e))return Zu(e,me);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(e,")"))}function Zu(e,t){var r={};for(var n in e)Et(e,n)&&(r[n]=t(e[n]));return r}function Vu(e,t){for(var r in t)Et(t,r)&&(e[r]=t[r]);return e}function pt(e,t){var r,n,u;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,u=e.length;n<u;n++)if(!pt(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!pt(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Et(e,t){return e&&Object.hasOwnProperty.call(e,t)}function Hu(e,t){for(var r={},n=0;n<t.length;n++){var u=t[n],i=e[u];i!==void 0&&(r[u]=i)}return r}var Wu=["Matrix","Array"],Ju=["number","BigNumber","Fraction"],Ct=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(Yr)};xt(Ct,Yr,{MATRIX_OPTIONS:Wu,NUMBER_OPTIONS:Ju});function gr(){return!0}function Le(){return!1}function ft(){}const Fr="Argument is not a typed-function.";function Qr(){function e(p){return typeof p=="object"&&p!==null&&p.constructor===Object}const t=[{name:"number",test:function(p){return typeof p=="number"}},{name:"string",test:function(p){return typeof p=="string"}},{name:"boolean",test:function(p){return typeof p=="boolean"}},{name:"Function",test:function(p){return typeof p=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(p){return p instanceof Date}},{name:"RegExp",test:function(p){return p instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(p){return p===null}},{name:"undefined",test:function(p){return p===void 0}}],r={name:"any",test:gr,isAny:!0};let n,u,i=0,o={createCount:0};function s(p){const E=n.get(p);if(E)return E;let y='Unknown type "'+p+'"';const S=p.toLowerCase();let O;for(O of u)if(O.toLowerCase()===S){y+='. Did you mean "'+O+'" ?';break}throw new TypeError(y)}function l(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const y=E?s(E).index:u.length,S=[];for(let T=0;T<p.length;++T){if(!p[T]||typeof p[T].name!="string"||typeof p[T].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const U=p[T].name;if(n.has(U))throw new TypeError('Duplicate type name "'+U+'"');S.push(U),n.set(U,{name:U,test:p[T].test,isAny:p[T].isAny,index:y+T,conversionsTo:[]})}const O=u.slice(y);u=u.slice(0,y).concat(S).concat(O);for(let T=y+S.length;T<u.length;++T)n.get(u[T]).index=T}function h(){n=new Map,u=[],i=0,l([r],!1)}h(),l(t);function a(){let p;for(p of u)n.get(p).conversionsTo=[];i=0}function c(p){const E=u.filter(y=>{const S=n.get(y);return!S.isAny&&S.test(p)});return E.length?E:["any"]}function D(p){return p&&typeof p=="function"&&"_typedFunctionData"in p}function F(p,E,y){if(!D(p))throw new TypeError(Fr);const S=y&&y.exact,O=Array.isArray(E)?E.join(","):E,T=N(O),U=v(T);if(!S||U in p.signatures){const ie=p._typedFunctionData.signatureMap.get(U);if(ie)return ie}const R=T.length;let L;if(S){L=[];let ie;for(ie in p.signatures)L.push(p._typedFunctionData.signatureMap.get(ie))}else L=p._typedFunctionData.signatures;for(let ie=0;ie<R;++ie){const fe=T[ie],we=[];let ze;for(ze of L){const Ie=_(ze.params,ie);if(!(!Ie||fe.restParam&&!Ie.restParam)){if(!Ie.hasAny){const He=g(Ie);if(fe.types.some(We=>!He.has(We.name)))continue}we.push(ze)}}if(L=we,L.length===0)break}let P;for(P of L)if(P.params.length<=R)return P;throw new TypeError("Signature not found (signature: "+(p.name||"unnamed")+"("+v(T,", ")+"))")}function A(p,E,y){return F(p,E,y).implementation}function f(p,E){const y=s(E);if(y.test(p))return p;const S=y.conversionsTo;if(S.length===0)throw new Error("There are no conversions to "+E+" defined.");for(let O=0;O<S.length;O++)if(s(S[O].from).test(p))return S[O].convert(p);throw new Error("Cannot convert "+p+" to "+E)}function v(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return p.map(y=>y.name).join(E)}function w(p){const E=p.indexOf("...")===0,S=(E?p.length>3?p.slice(3):"any":p).split("|").map(R=>s(R.trim()));let O=!1,T=E?"...":"";return{types:S.map(function(R){return O=R.isAny||O,T+=R.name+"|",{name:R.name,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:null,conversionIndex:-1}}),name:T.slice(0,-1),hasAny:O,hasConversion:!1,restParam:E}}function B(p){const E=p.types.map(U=>U.name),y=K(E);let S=p.hasAny,O=p.name;const T=y.map(function(U){const R=s(U.from);return S=R.isAny||S,O+="|"+U.from,{name:U.from,typeIndex:R.index,test:R.test,isAny:R.isAny,conversion:U,conversionIndex:U.index}});return{types:p.types.concat(T),name:O,hasAny:S,hasConversion:T.length>0,restParam:p.restParam}}function g(p){return p.typeSet||(p.typeSet=new Set,p.types.forEach(E=>p.typeSet.add(E.name))),p.typeSet}function N(p){const E=[];if(typeof p!="string")throw new TypeError("Signatures must be strings");const y=p.trim();if(y==="")return E;const S=y.split(",");for(let O=0;O<S.length;++O){const T=w(S[O].trim());if(T.restParam&&O!==S.length-1)throw new SyntaxError('Unexpected rest parameter "'+S[O]+'": only allowed for the last parameter');if(T.types.length===0)return null;E.push(T)}return E}function m(p){const E=oe(p);return E?E.restParam:!1}function d(p){if(!p||p.types.length===0)return gr;if(p.types.length===1)return s(p.types[0].name).test;if(p.types.length===2){const E=s(p.types[0].name).test,y=s(p.types[1].name).test;return function(O){return E(O)||y(O)}}else{const E=p.types.map(function(y){return s(y.name).test});return function(S){for(let O=0;O<E.length;O++)if(E[O](S))return!0;return!1}}}function C(p){let E,y,S;if(m(p)){E=Oe(p).map(d);const O=E.length,T=d(oe(p)),U=function(R){for(let L=O;L<R.length;L++)if(!T(R[L]))return!1;return!0};return function(L){for(let P=0;P<E.length;P++)if(!E[P](L[P]))return!1;return U(L)&&L.length>=O+1}}else return p.length===0?function(T){return T.length===0}:p.length===1?(y=d(p[0]),function(T){return y(T[0])&&T.length===1}):p.length===2?(y=d(p[0]),S=d(p[1]),function(T){return y(T[0])&&S(T[1])&&T.length===2}):(E=p.map(d),function(T){for(let U=0;U<E.length;U++)if(!E[U](T[U]))return!1;return T.length===E.length})}function _(p,E){return E<p.length?p[E]:m(p)?oe(p):null}function b(p,E){const y=_(p,E);return y?g(y):new Set}function I(p){return p.conversion===null||p.conversion===void 0}function z(p,E){const y=new Set;return p.forEach(S=>{const O=b(S.params,E);let T;for(T of O)y.add(T)}),y.has("any")?["any"]:Array.from(y)}function $(p,E,y){let S,O;const T=p||"unnamed";let U=y,R;for(R=0;R<E.length;R++){const fe=[];if(U.forEach(we=>{const ze=_(we.params,R),Ie=d(ze);(R<we.params.length||m(we.params))&&Ie(E[R])&&fe.push(we)}),fe.length===0){if(O=z(U,R),O.length>0){const we=c(E[R]);return S=new TypeError("Unexpected type of argument in function "+T+" (expected: "+O.join(" or ")+", actual: "+we.join(" | ")+", index: "+R+")"),S.data={category:"wrongType",fn:T,index:R,actual:we,expected:O},S}}else U=fe}const L=U.map(function(fe){return m(fe.params)?1/0:fe.params.length});if(E.length<Math.min.apply(null,L))return O=z(U,R),S=new TypeError("Too few arguments in function "+T+" (expected: "+O.join(" or ")+", index: "+E.length+")"),S.data={category:"tooFewArgs",fn:T,index:E.length,expected:O},S;const P=Math.max.apply(null,L);if(E.length>P)return S=new TypeError("Too many arguments in function "+T+" (expected: "+P+", actual: "+E.length+")"),S.data={category:"tooManyArgs",fn:T,index:E.length,expectedLength:P},S;const ie=[];for(let fe=0;fe<E.length;++fe)ie.push(c(E[fe]).join("|"));return S=new TypeError('Arguments of type "'+ie.join(", ")+'" do not match any of the defined signatures of function '+T+"."),S.data={category:"mismatch",actual:ie},S}function W(p){let E=u.length+1;for(let y=0;y<p.types.length;y++)I(p.types[y])&&(E=Math.min(E,p.types[y].typeIndex));return E}function J(p){let E=i+1;for(let y=0;y<p.types.length;y++)I(p.types[y])||(E=Math.min(E,p.types[y].conversionIndex));return E}function V(p,E){if(p.hasAny){if(!E.hasAny)return 1}else if(E.hasAny)return-1;if(p.restParam){if(!E.restParam)return 1}else if(E.restParam)return-1;if(p.hasConversion){if(!E.hasConversion)return 1}else if(E.hasConversion)return-1;const y=W(p)-W(E);if(y<0)return-1;if(y>0)return 1;const S=J(p)-J(E);return S<0?-1:S>0?1:0}function q(p,E){const y=p.params,S=E.params,O=oe(y),T=oe(S),U=m(y),R=m(S);if(U&&O.hasAny){if(!R||!T.hasAny)return 1}else if(R&&T.hasAny)return-1;let L=0,P=0,ie;for(ie of y)ie.hasAny&&++L,ie.hasConversion&&++P;let fe=0,we=0;for(ie of S)ie.hasAny&&++fe,ie.hasConversion&&++we;if(L!==fe)return L-fe;if(U&&O.hasConversion){if(!R||!T.hasConversion)return 1}else if(R&&T.hasConversion)return-1;if(P!==we)return P-we;if(U){if(!R)return 1}else if(R)return-1;const ze=(y.length-S.length)*(U?-1:1);if(ze!==0)return ze;const Ie=[];let He=0;for(let st=0;st<y.length;++st){const yt=V(y[st],S[st]);Ie.push(yt),He+=yt}if(He!==0)return He;let We;for(We of Ie)if(We!==0)return We;return 0}function K(p){if(p.length===0)return[];const E=p.map(s);p.length>1&&E.sort((O,T)=>O.index-T.index);let y=E[0].conversionsTo;if(p.length===1)return y;y=y.concat([]);const S=new Set(p);for(let O=1;O<E.length;++O){let T;for(T of E[O].conversionsTo)S.has(T.from)||(y.push(T),S.add(T.from))}return y}function Y(p,E){let y=E;if(p.some(O=>O.hasConversion)){const O=m(p),T=p.map(X);y=function(){const R=[],L=O?arguments.length-1:arguments.length;for(let P=0;P<L;P++)R[P]=T[P](arguments[P]);return O&&(R[L]=arguments[L].map(T[L])),E.apply(this,R)}}let S=y;if(m(p)){const O=p.length-1;S=function(){return y.apply(this,ue(arguments,0,O).concat([ue(arguments,O)]))}}return S}function X(p){let E,y,S,O;const T=[],U=[];switch(p.types.forEach(function(R){R.conversion&&(T.push(s(R.conversion.from).test),U.push(R.conversion.convert))}),U.length){case 0:return function(L){return L};case 1:return E=T[0],S=U[0],function(L){return E(L)?S(L):L};case 2:return E=T[0],y=T[1],S=U[0],O=U[1],function(L){return E(L)?S(L):y(L)?O(L):L};default:return function(L){for(let P=0;P<U.length;P++)if(T[P](L))return U[P](L);return L}}}function j(p){function E(y,S,O){if(S<y.length){const T=y[S];let U=[];if(T.restParam){const R=T.types.filter(I);R.length<T.types.length&&U.push({types:R,name:"..."+R.map(L=>L.name).join("|"),hasAny:R.some(L=>L.isAny),hasConversion:!1,restParam:!0}),U.push(T)}else U=T.types.map(function(R){return{types:[R],name:R.name,hasAny:R.isAny,hasConversion:R.conversion,restParam:!1}});return _e(U,function(R){return E(y,S+1,O.concat([R]))})}else return[O]}return E(p,0,[])}function ne(p,E){const y=Math.max(p.length,E.length);for(let R=0;R<y;R++){const L=b(p,R),P=b(E,R);let ie=!1,fe;for(fe of P)if(L.has(fe)){ie=!0;break}if(!ie)return!1}const S=p.length,O=E.length,T=m(p),U=m(E);return T?U?S===O:O>=S:U?S>=O:S===O}function te(p){return p.map(E=>Qe(E)?Ue(E.referToSelf.callback):Ke(E)?be(E.referTo.references,E.referTo.callback):E)}function ee(p,E,y){const S=[];let O;for(O of p){let T=y[O];if(typeof T!="number")throw new TypeError('No definition for referenced signature "'+O+'"');if(T=E[T],typeof T!="function")return!1;S.push(T)}return S}function Fe(p,E,y){const S=te(p),O=new Array(S.length).fill(!1);let T=!0;for(;T;){T=!1;let U=!0;for(let R=0;R<S.length;++R){if(O[R])continue;const L=S[R];if(Qe(L))S[R]=L.referToSelf.callback(y),S[R].referToSelf=L.referToSelf,O[R]=!0,U=!1;else if(Ke(L)){const P=ee(L.referTo.references,S,E);P?(S[R]=L.referTo.callback.apply(this,P),S[R].referTo=L.referTo,O[R]=!0,U=!1):T=!0}}if(U&&T)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return S}function ve(p){const E=/\bthis(\(|\.signatures\b)/;Object.keys(p).forEach(y=>{const S=p[y];if(E.test(S.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Ce(p,E){if(o.createCount++,Object.keys(E).length===0)throw new SyntaxError("No signatures provided");o.warnAgainstDeprecatedThis&&ve(E);const y=[],S=[],O={},T=[];let U;for(U in E){if(!Object.prototype.hasOwnProperty.call(E,U))continue;const re=N(U);if(!re)continue;y.forEach(function(wt){if(ne(wt,re))throw new TypeError('Conflicting signatures "'+v(wt)+'" and "'+v(re)+'".')}),y.push(re);const Pe=S.length;S.push(E[U]);const lu=re.map(B);let Bt;for(Bt of j(lu)){const wt=v(Bt);T.push({params:Bt,name:wt,fn:Pe}),Bt.every(hu=>!hu.hasConversion)&&(O[wt]=Pe)}}T.sort(q);const R=Fe(S,O,Ft);let L;for(L in O)Object.prototype.hasOwnProperty.call(O,L)&&(O[L]=R[O[L]]);const P=[],ie=new Map;for(L of T)ie.has(L.name)||(L.fn=R[L.fn],P.push(L),ie.set(L.name,L));const fe=P[0]&&P[0].params.length<=2&&!m(P[0].params),we=P[1]&&P[1].params.length<=2&&!m(P[1].params),ze=P[2]&&P[2].params.length<=2&&!m(P[2].params),Ie=P[3]&&P[3].params.length<=2&&!m(P[3].params),He=P[4]&&P[4].params.length<=2&&!m(P[4].params),We=P[5]&&P[5].params.length<=2&&!m(P[5].params),st=fe&&we&&ze&&Ie&&He&&We;for(let re=0;re<P.length;++re)P[re].test=C(P[re].params);const yt=fe?d(P[0].params[0]):Le,Rn=we?d(P[1].params[0]):Le,qn=ze?d(P[2].params[0]):Le,$n=Ie?d(P[3].params[0]):Le,Un=He?d(P[4].params[0]):Le,Ln=We?d(P[5].params[0]):Le,Zn=fe?d(P[0].params[1]):Le,Vn=we?d(P[1].params[1]):Le,Hn=ze?d(P[2].params[1]):Le,Wn=Ie?d(P[3].params[1]):Le,Jn=He?d(P[4].params[1]):Le,Yn=We?d(P[5].params[1]):Le;for(let re=0;re<P.length;++re)P[re].implementation=Y(P[re].params,P[re].fn);const Xn=fe?P[0].implementation:ft,Gn=we?P[1].implementation:ft,Kn=ze?P[2].implementation:ft,Qn=Ie?P[3].implementation:ft,jn=He?P[4].implementation:ft,kn=We?P[5].implementation:ft,eu=fe?P[0].params.length:-1,tu=we?P[1].params.length:-1,ru=ze?P[2].params.length:-1,nu=Ie?P[3].params.length:-1,uu=He?P[4].params.length:-1,iu=We?P[5].params.length:-1,ou=st?6:0,au=P.length,su=P.map(re=>re.test),fu=P.map(re=>re.implementation),cu=function(){for(let Pe=ou;Pe<au;Pe++)if(su[Pe](arguments))return fu[Pe].apply(this,arguments);return o.onMismatch(p,arguments,P)};function Ft(re,Pe){return arguments.length===eu&&yt(re)&&Zn(Pe)?Xn.apply(this,arguments):arguments.length===tu&&Rn(re)&&Vn(Pe)?Gn.apply(this,arguments):arguments.length===ru&&qn(re)&&Hn(Pe)?Kn.apply(this,arguments):arguments.length===nu&&$n(re)&&Wn(Pe)?Qn.apply(this,arguments):arguments.length===uu&&Un(re)&&Jn(Pe)?jn.apply(this,arguments):arguments.length===iu&&Ln(re)&&Yn(Pe)?kn.apply(this,arguments):cu.apply(this,arguments)}try{Object.defineProperty(Ft,"name",{value:p})}catch{}return Ft.signatures=O,Ft._typedFunctionData={signatures:P,signatureMap:ie},Ft}function ce(p,E,y){throw $(p,E,y)}function Oe(p){return ue(p,0,p.length-1)}function oe(p){return p[p.length-1]}function ue(p,E,y){return Array.prototype.slice.call(p,E,y)}function $e(p,E){for(let y=0;y<p.length;y++)if(E(p[y]))return p[y]}function _e(p,E){return Array.prototype.concat.apply([],p.map(E))}function ae(){const p=Oe(arguments).map(y=>v(N(y))),E=oe(arguments);if(typeof E!="function")throw new TypeError("Callback function expected as last argument");return be(p,E)}function be(p,E){return{referTo:{references:p,callback:E}}}function Ue(p){if(typeof p!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:p}}}function Ke(p){return p&&typeof p.referTo=="object"&&Array.isArray(p.referTo.references)&&typeof p.referTo.callback=="function"}function Qe(p){return p&&typeof p.referToSelf=="object"&&typeof p.referToSelf.callback=="function"}function ot(p,E){if(!p)return E;if(E&&E!==p){const y=new Error("Function names do not match (expected: "+p+", actual: "+E+")");throw y.data={actual:E,expected:p},y}return p}function at(p){let E;for(const y in p)Object.prototype.hasOwnProperty.call(p,y)&&(D(p[y])||typeof p[y].signature=="string")&&(E=ot(E,p[y].name));return E}function Jt(p,E){let y;for(y in E)if(Object.prototype.hasOwnProperty.call(E,y)){if(y in p&&E[y]!==p[y]){const S=new Error('Signature "'+y+'" is defined twice');throw S.data={signature:y,sourceFunction:E[y],destFunction:p[y]},S}p[y]=E[y]}}const Pn=o;o=function(p){const E=typeof p=="string",y=E?1:0;let S=E?p:"";const O={};for(let T=y;T<arguments.length;++T){const U=arguments[T];let R={},L;if(typeof U=="function"?(L=U.name,typeof U.signature=="string"?R[U.signature]=U:D(U)&&(R=U.signatures)):e(U)&&(R=U,E||(L=at(U))),Object.keys(R).length===0){const P=new TypeError("Argument to 'typed' at index "+T+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw P.data={index:T,argument:U},P}E||(S=ot(S,L)),Jt(O,R)}return Ce(S||"",O)},o.create=Qr,o.createCount=Pn.createCount,o.onMismatch=ce,o.throwMismatchError=ce,o.createError=$,o.clear=h,o.clearConversions=a,o.addTypes=l,o._findType=s,o.referTo=ae,o.referToSelf=Ue,o.convert=f,o.findSignature=F,o.find=A,o.isTypedFunction=D,o.warnAgainstDeprecatedThis=!0,o.addType=function(p,E){let y="any";E!==!1&&n.has("Object")&&(y="Object"),o.addTypes([p],y)};function mr(p){if(!p||typeof p.from!="string"||typeof p.to!="string"||typeof p.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(p.to===p.from)throw new SyntaxError('Illegal to define conversion from "'+p.from+'" to itself.')}return o.addConversion=function(p){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};mr(p);const y=s(p.to),S=y.conversionsTo.find(O=>O.from===p.from);if(S)if(E&&E.override)o.removeConversion({from:S.from,to:p.to,convert:S.convert});else throw new Error('There is already a conversion from "'+p.from+'" to "'+y.name+'"');y.conversionsTo.push({from:p.from,convert:p.convert,index:i++})},o.addConversions=function(p,E){p.forEach(y=>o.addConversion(y,E))},o.removeConversion=function(p){mr(p);const E=s(p.to),y=$e(E.conversionsTo,O=>O.from===p.from);if(!y)throw new Error("Attempt to remove nonexistent conversion from "+p.from+" to "+p.to);if(y.convert!==p.convert)throw new Error("Conversion to remove does not match existing conversion");const S=E.conversionsTo.indexOf(y);E.conversionsTo.splice(S,1)},o.resolve=function(p,E){if(!D(p))throw new TypeError(Fr);const y=p._typedFunctionData.signatures;for(let S=0;S<y.length;++S)if(y[S].test(E))return y[S];return null},o}const wr=Qr();function Be(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}function Yt(e,t,r){var n={2:"0b",8:"0o",16:"0x"},u=n[t],i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Be(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!Be(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),i="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(u).concat(e.toString(t)).concat(i)}function Qt(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var{notation:r,precision:n,wordSize:u}=jr(t);switch(r){case"fixed":return Xu(e,n);case"exponential":return kr(e,n);case"engineering":return Yu(e,n);case"bin":return Yt(e,2,u);case"oct":return Yt(e,8,u);case"hex":return Yt(e,16,u);case"auto":return Gu(e,n,t).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],o=arguments[4];return i!=="."?i+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function jr(e){var t="auto",r,n;if(e!==void 0)if(le(e))r=e;else if(Ae(e))r=e.toNumber();else if(or(e))e.precision!==void 0&&(r=Er(e.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),e.wordSize!==void 0&&(n=Er(e.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),e.notation&&(t=e.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:t,precision:r,wordSize:n}}function Ut(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],u=parseFloat(t[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(s){return u-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return o.length===0&&(o.push(0),u++),{sign:r,coefficients:o,exponent:u}}function Yu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),n=Lt(r,t),u=n.exponent,i=n.coefficients,o=u%3===0?u:u<0?u-3-u%3:u-u%3;if(le(t))for(;t>i.length||u-o+1>i.length;)i.push(0);else for(var s=Math.abs(u-o)-(i.length-1),l=0;l<s;l++)i.push(0);for(var h=Math.abs(u-o),a=1;h>0;)a++,h--;var c=i.slice(a).join(""),D=le(t)&&c.length||c.match(/[1-9]/)?"."+c:"",F=i.slice(0,a).join("")+D+"e"+(u>=0?"+":"")+o.toString();return n.sign+F}function Xu(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),n=typeof t=="number"?Lt(r,r.exponent+1+t):r,u=n.coefficients,i=n.exponent+1,o=i+(t||0);return u.length<o&&(u=u.concat(Dt(o-u.length))),i<0&&(u=Dt(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function kr(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Ut(e),n=t?Lt(r,t):r,u=n.coefficients,i=n.exponent;u.length<t&&(u=u.concat(Dt(t-u.length)));var o=u.shift();return n.sign+o+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function Gu(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=Ar(r==null?void 0:r.lowerExp,-3),u=Ar(r==null?void 0:r.upperExp,5),i=Ut(e),o=t?Lt(i,t):i;if(o.exponent<n||o.exponent>=u)return kr(e,t);var s=o.coefficients,l=o.exponent;s.length<t&&(s=s.concat(Dt(t-s.length))),s=s.concat(Dt(l-s.length+1+(s.length<t?t-s.length:0))),s=Dt(-l).concat(s);var h=l>0?l:0;return h<s.length-1&&s.splice(h+1,0,"."),o.sign+s.join("")}function Lt(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var u=n.splice(t,n.length-t);if(u[0]>=5){var i=t-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),r.exponent++,i++),i--,n[i]++}}return r}function Dt(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function Ku(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function It(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(e)||isNaN(t)?!1:!isFinite(e)||!isFinite(t)?e===t:e===t?!0:Math.abs(e-t)<=Math.max(r*Math.max(Math.abs(e),Math.abs(t)),n)}function Er(e,t){if(le(e))return e;if(Ae(e))return e.toNumber();t()}function Ar(e,t){return le(e)?e:Ae(e)?e.toNumber():t}function k(e,t,r,n){function u(i){var o=Hu(i,t.map(ku));return Qu(e,t,i),r(o)}return u.isFactory=!0,u.fn=e,u.dependencies=t.slice().sort(),n&&(u.meta=n),u}function Qu(e,t,r){var n=t.filter(i=>!ju(i)).every(i=>r[i]!==void 0);if(!n){var u=t.filter(i=>r[i]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function ju(e){return e&&e[0]==="?"}function ku(e){return e&&e[0]==="?"?e.slice(1):e}function ei(e,t){if(tn(e)&&en(e,t))return e[t];throw typeof e[t]=="function"&&ni(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function ti(e,t,r){if(tn(e)&&en(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function ri(e,t){return t in e}function en(e,t){return!e||typeof e!="object"?!1:Et(ui,t)?!0:!(t in Object.prototype||t in Function.prototype)}function ni(e,t){return e==null||typeof e[t]!="function"||Et(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Et(ii,t)?!0:!(t in Object.prototype||t in Function.prototype)}function tn(e){return typeof e=="object"&&e&&e.constructor===Object}var ui={length:!0,name:!0},ii={toString:!0,valueOf:!0,toLocaleString:!0};class oi{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).values()}get(t){return ei(this.wrappedObject,t)}set(t,r){return ti(this.wrappedObject,t,r),this}has(t){return ri(this.wrappedObject,t)}entries(){return ai(this.keys(),t=>[t,this.get(t)])}forEach(t){for(var r of this.keys())t(this.get(r),r,this)}delete(t){delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function ai(e,t){return{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}}}function si(e){return e?e instanceof Map||e instanceof oi||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var rn=function(){return rn=wr.create,wr},fi=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],ci=k("typed",fi,function(t){var{BigNumber:r,Complex:n,DenseMatrix:u,Fraction:i}=t,o=rn();return o.clear(),o.addTypes([{name:"number",test:le},{name:"Complex",test:Xr},{name:"BigNumber",test:Ae},{name:"bigint",test:Du},{name:"Fraction",test:Gr},{name:"Unit",test:Kr},{name:"identifier",test:s=>Ye&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Ye},{name:"Chain",test:Lu},{name:"Array",test:pe},{name:"Matrix",test:Ne},{name:"DenseMatrix",test:pu},{name:"SparseMatrix",test:du},{name:"Range",test:vu},{name:"Index",test:ir},{name:"boolean",test:mu},{name:"ResultSet",test:gu},{name:"Help",test:Fu},{name:"function",test:wu},{name:"Date",test:Eu},{name:"RegExp",test:Au},{name:"null",test:Cu},{name:"undefined",test:yu},{name:"AccessorNode",test:Bu},{name:"ArrayNode",test:Nu},{name:"AssignmentNode",test:bu},{name:"BlockNode",test:_u},{name:"ConditionalNode",test:Mu},{name:"ConstantNode",test:Su},{name:"FunctionNode",test:xu},{name:"FunctionAssignmentNode",test:Tu},{name:"IndexNode",test:Ou},{name:"Node",test:Iu},{name:"ObjectNode",test:zu},{name:"OperatorNode",test:Pu},{name:"ParenthesisNode",test:Ru},{name:"RangeNode",test:qu},{name:"RelationalNode",test:$u},{name:"SymbolNode",test:Uu},{name:"Map",test:si},{name:"Object",test:or}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(r||Nt(l),Ku(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new r(l)}},{from:"number",to:"Complex",convert:function(l){return n||bt(l),new n(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return n||bt(l),new n(l.toNumber(),0)}},{from:"bigint",to:"number",convert:function(l){if(l>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+l+")");return Number(l)}},{from:"bigint",to:"BigNumber",convert:function(l){return r||Nt(l),new r(l.toString())}},{from:"bigint",to:"Fraction",convert:function(l){return i||_t(l),new i(l.toString())}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return n||bt(l),new n(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){i||_t(l);var h=new i(l);if(h.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return h}},{from:"string",to:"number",convert:function(l){var h=Number(l);if(isNaN(h))throw new Error('Cannot convert "'+l+'" to a number');return h}},{from:"string",to:"BigNumber",convert:function(l){r||Nt(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(l){try{return BigInt(l)}catch{throw new Error('Cannot convert "'+l+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(l){i||_t(l);try{return new i(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){n||bt(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return r||Nt(l),new r(+l)}},{from:"boolean",to:"bigint",convert:function(l){return BigInt(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return i||_t(l),new i(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return u||li(),new u(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),o.onMismatch=(s,l,h)=>{var a=o.createError(s,l,h);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&Ot(l[0])&&h.some(D=>!D.params.includes(","))){var c=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw c.data=a.data,c}throw a},o.onMismatch=(s,l,h)=>{var a=o.createError(s,l,h);if(["wrongType","mismatch"].includes(a.data.category)&&l.length===1&&Ot(l[0])&&h.some(D=>!D.params.includes(","))){var c=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw c.data=a.data,c}throw a},o});function Nt(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function bt(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function li(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function _t(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.5.0
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2025 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var jt=9e15,nt=1e9,kt="0123456789abcdef",zt="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Pt="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",er={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:jt,crypto:!1},nn,ke,Q=!0,Zt="[DecimalError] ",rt=Zt+"Invalid argument: ",un=Zt+"Precision limit exceeded",on=Zt+"crypto unavailable",an="[object Decimal]",xe=Math.floor,ye=Math.pow,hi=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Di=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,pi=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,sn=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Je=1e7,G=7,di=9007199254740991,vi=zt.length-1,tr=Pt.length-1,x={toStringTag:an};x.absoluteValue=x.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),H(e)};x.ceil=function(){return H(new this.constructor(this),this.e+1,2)};x.clampedTo=x.clamp=function(e,t){var r,n=this,u=n.constructor;if(e=new u(e),t=new u(t),!e.s||!t.s)return new u(NaN);if(e.gt(t))throw Error(rt+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new u(n)};x.comparedTo=x.cmp=function(e){var t,r,n,u,i=this,o=i.d,s=(e=new i.constructor(e)).d,l=i.s,h=e.s;if(!o||!s)return!l||!h?NaN:l!==h?l:o===s?0:!o^l<0?1:-1;if(!o[0]||!s[0])return o[0]?l:s[0]?-h:0;if(l!==h)return l;if(i.e!==e.e)return i.e>e.e^l<0?1:-1;for(n=o.length,u=s.length,t=0,r=n<u?n:u;t<r;++t)if(o[t]!==s[t])return o[t]>s[t]^l<0?1:-1;return n===u?0:n>u^l<0?1:-1};x.cosine=x.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=mi(n,Dn(n,r)),n.precision=e,n.rounding=t,H(ke==2||ke==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};x.cubeRoot=x.cbrt=function(){var e,t,r,n,u,i,o,s,l,h,a=this,c=a.constructor;if(!a.isFinite()||a.isZero())return new c(a);for(Q=!1,i=a.s*ye(a.s*a,1/3),!i||Math.abs(i)==1/0?(r=Me(a.d),e=a.e,(i=(e-r.length+1)%3)&&(r+=i==1||i==-2?"0":"00"),i=ye(r,1/3),e=xe((e+1)/3)-(e%3==(e<0?-1:2)),i==1/0?r="5e"+e:(r=i.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new c(r),n.s=a.s):n=new c(i.toString()),o=(e=c.precision)+3;;)if(s=n,l=s.times(s).times(s),h=l.plus(a),n=se(h.plus(a).times(s),h.plus(l),o+2,1),Me(s.d).slice(0,o)===(r=Me(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!u&&r=="4999"){if(!u&&(H(s,e+1,0),s.times(s).times(s).eq(a))){n=s;break}o+=4,u=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(H(n,e+1,1),t=!n.times(n).times(n).eq(a));break}return Q=!0,H(n,e,c.rounding,t)};x.decimalPlaces=x.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-xe(this.e/G))*G,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};x.dividedBy=x.div=function(e){return se(this,new this.constructor(e))};x.dividedToIntegerBy=x.divToInt=function(e){var t=this,r=t.constructor;return H(se(t,new r(e),0,1,1),r.precision,r.rounding)};x.equals=x.eq=function(e){return this.cmp(e)===0};x.floor=function(){return H(new this.constructor(this),this.e+1,3)};x.greaterThan=x.gt=function(e){return this.cmp(e)>0};x.greaterThanOrEqualTo=x.gte=function(e){var t=this.cmp(e);return t==1||t===0};x.hyperbolicCosine=x.cosh=function(){var e,t,r,n,u,i=this,o=i.constructor,s=new o(1);if(!i.isFinite())return new o(i.s?1/0:NaN);if(i.isZero())return s;r=o.precision,n=o.rounding,o.precision=r+Math.max(i.e,i.sd())+4,o.rounding=1,u=i.d.length,u<32?(e=Math.ceil(u/3),t=(1/Ht(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),i=dt(o,1,i.times(t),new o(1),!0);for(var l,h=e,a=new o(8);h--;)l=i.times(i),i=s.minus(l.times(a.minus(l.times(a))));return H(i,o.precision=r,o.rounding=n,!0)};x.hyperbolicSine=x.sinh=function(){var e,t,r,n,u=this,i=u.constructor;if(!u.isFinite()||u.isZero())return new i(u);if(t=i.precision,r=i.rounding,i.precision=t+Math.max(u.e,u.sd())+4,i.rounding=1,n=u.d.length,n<3)u=dt(i,2,u,u,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,u=u.times(1/Ht(5,e)),u=dt(i,2,u,u,!0);for(var o,s=new i(5),l=new i(16),h=new i(20);e--;)o=u.times(u),u=u.times(s.plus(o.times(l.times(o).plus(h))))}return i.precision=t,i.rounding=r,H(u,t,r,!0)};x.hyperbolicTangent=x.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,se(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};x.inverseCosine=x.acos=function(){var e=this,t=e.constructor,r=e.abs().cmp(1),n=t.precision,u=t.rounding;return r!==-1?r===0?e.isNeg()?Xe(t,n,u):new t(0):new t(NaN):e.isZero()?Xe(t,n+4,u).times(.5):(t.precision=n+6,t.rounding=1,e=new t(1).minus(e).div(e.plus(1)).sqrt().atan(),t.precision=n,t.rounding=u,e.times(2))};x.inverseHyperbolicCosine=x.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Q=!1,r=r.times(r).minus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};x.inverseHyperbolicSine=x.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Q=!1,r=r.times(r).plus(1).sqrt().plus(r),Q=!0,n.precision=e,n.rounding=t,r.ln())};x.inverseHyperbolicTangent=x.atanh=function(){var e,t,r,n,u=this,i=u.constructor;return u.isFinite()?u.e>=0?new i(u.abs().eq(1)?u.s/0:u.isZero()?u:NaN):(e=i.precision,t=i.rounding,n=u.sd(),Math.max(n,e)<2*-u.e-1?H(new i(u),e,t,!0):(i.precision=r=n-u.e,u=se(u.plus(1),new i(1).minus(u),r+e,1),i.precision=e+4,i.rounding=1,u=u.ln(),i.precision=e,i.rounding=t,u.times(.5))):new i(NaN)};x.inverseSine=x.asin=function(){var e,t,r,n,u=this,i=u.constructor;return u.isZero()?new i(u):(t=u.abs().cmp(1),r=i.precision,n=i.rounding,t!==-1?t===0?(e=Xe(i,r+4,n).times(.5),e.s=u.s,e):new i(NaN):(i.precision=r+6,i.rounding=1,u=u.div(new i(1).minus(u.times(u)).sqrt().plus(1)).atan(),i.precision=r,i.rounding=n,u.times(2)))};x.inverseTangent=x.atan=function(){var e,t,r,n,u,i,o,s,l,h=this,a=h.constructor,c=a.precision,D=a.rounding;if(h.isFinite()){if(h.isZero())return new a(h);if(h.abs().eq(1)&&c+4<=tr)return o=Xe(a,c+4,D).times(.25),o.s=h.s,o}else{if(!h.s)return new a(NaN);if(c+4<=tr)return o=Xe(a,c+4,D).times(.5),o.s=h.s,o}for(a.precision=s=c+10,a.rounding=1,r=Math.min(28,s/G+2|0),e=r;e;--e)h=h.div(h.times(h).plus(1).sqrt().plus(1));for(Q=!1,t=Math.ceil(s/G),n=1,l=h.times(h),o=new a(h),u=h;e!==-1;)if(u=u.times(l),i=o.minus(u.div(n+=2)),u=u.times(l),o=i.plus(u.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===i.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),Q=!0,H(o,a.precision=c,a.rounding=D,!0)};x.isFinite=function(){return!!this.d};x.isInteger=x.isInt=function(){return!!this.d&&xe(this.e/G)>this.d.length-2};x.isNaN=function(){return!this.s};x.isNegative=x.isNeg=function(){return this.s<0};x.isPositive=x.isPos=function(){return this.s>0};x.isZero=function(){return!!this.d&&this.d[0]===0};x.lessThan=x.lt=function(e){return this.cmp(e)<0};x.lessThanOrEqualTo=x.lte=function(e){return this.cmp(e)<1};x.logarithm=x.log=function(e){var t,r,n,u,i,o,s,l,h=this,a=h.constructor,c=a.precision,D=a.rounding,F=5;if(e==null)e=new a(10),t=!0;else{if(e=new a(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new a(NaN);t=e.eq(10)}if(r=h.d,h.s<0||!r||!r[0]||h.eq(1))return new a(r&&!r[0]?-1/0:h.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)i=!0;else{for(u=r[0];u%10===0;)u/=10;i=u!==1}if(Q=!1,s=c+F,o=tt(h,s),n=t?Rt(a,s+10):tt(e,s),l=se(o,n,s,1),At(l.d,u=c,D))do if(s+=10,o=tt(h,s),n=t?Rt(a,s+10):tt(e,s),l=se(o,n,s,1),!i){+Me(l.d).slice(u+1,u+15)+1==1e14&&(l=H(l,c+1,0));break}while(At(l.d,u+=10,D));return Q=!0,H(l,c,D)};x.minus=x.sub=function(e){var t,r,n,u,i,o,s,l,h,a,c,D,F=this,A=F.constructor;if(e=new A(e),!F.d||!e.d)return!F.s||!e.s?e=new A(NaN):F.d?e.s=-e.s:e=new A(e.d||F.s!==e.s?F:NaN),e;if(F.s!=e.s)return e.s=-e.s,F.plus(e);if(h=F.d,D=e.d,s=A.precision,l=A.rounding,!h[0]||!D[0]){if(D[0])e.s=-e.s;else if(h[0])e=new A(F);else return new A(l===3?-0:0);return Q?H(e,s,l):e}if(r=xe(e.e/G),a=xe(F.e/G),h=h.slice(),i=a-r,i){for(c=i<0,c?(t=h,i=-i,o=D.length):(t=D,r=a,o=h.length),n=Math.max(Math.ceil(s/G),o)+2,i>n&&(i=n,t.length=1),t.reverse(),n=i;n--;)t.push(0);t.reverse()}else{for(n=h.length,o=D.length,c=n<o,c&&(o=n),n=0;n<o;n++)if(h[n]!=D[n]){c=h[n]<D[n];break}i=0}for(c&&(t=h,h=D,D=t,e.s=-e.s),o=h.length,n=D.length-o;n>0;--n)h[o++]=0;for(n=D.length;n>i;){if(h[--n]<D[n]){for(u=n;u&&h[--u]===0;)h[u]=Je-1;--h[u],h[n]+=Je}h[n]-=D[n]}for(;h[--o]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=Vt(h,r),Q?H(e,s,l):e):new A(l===3?-0:0)};x.modulo=x.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?H(new n(r),n.precision,n.rounding):(Q=!1,n.modulo==9?(t=se(r,e.abs(),0,3,1),t.s*=e.s):t=se(r,e,0,n.modulo,1),t=t.times(e),Q=!0,r.minus(t))};x.naturalExponential=x.exp=function(){return rr(this)};x.naturalLogarithm=x.ln=function(){return tt(this)};x.negated=x.neg=function(){var e=new this.constructor(this);return e.s=-e.s,H(e)};x.plus=x.add=function(e){var t,r,n,u,i,o,s,l,h,a,c=this,D=c.constructor;if(e=new D(e),!c.d||!e.d)return!c.s||!e.s?e=new D(NaN):c.d||(e=new D(e.d||c.s===e.s?c:NaN)),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(h=c.d,a=e.d,s=D.precision,l=D.rounding,!h[0]||!a[0])return a[0]||(e=new D(c)),Q?H(e,s,l):e;if(i=xe(c.e/G),n=xe(e.e/G),h=h.slice(),u=i-n,u){for(u<0?(r=h,u=-u,o=a.length):(r=a,n=i,o=h.length),i=Math.ceil(s/G),o=i>o?i+1:o+1,u>o&&(u=o,r.length=1),r.reverse();u--;)r.push(0);r.reverse()}for(o=h.length,u=a.length,o-u<0&&(u=o,r=a,a=h,h=r),t=0;u;)t=(h[--u]=h[u]+a[u]+t)/Je|0,h[u]%=Je;for(t&&(h.unshift(t),++n),o=h.length;h[--o]==0;)h.pop();return e.d=h,e.e=Vt(h,n),Q?H(e,s,l):e};x.precision=x.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rt+e);return r.d?(t=fn(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};x.round=function(){var e=this,t=e.constructor;return H(new t(e),e.e+1,t.rounding)};x.sine=x.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+G,n.rounding=1,r=Fi(n,Dn(n,r)),n.precision=e,n.rounding=t,H(ke>2?r.neg():r,e,t,!0)):new n(NaN)};x.squareRoot=x.sqrt=function(){var e,t,r,n,u,i,o=this,s=o.d,l=o.e,h=o.s,a=o.constructor;if(h!==1||!s||!s[0])return new a(!h||h<0&&(!s||s[0])?NaN:s?o:1/0);for(Q=!1,h=Math.sqrt(+o),h==0||h==1/0?(t=Me(s),(t.length+l)%2==0&&(t+="0"),h=Math.sqrt(t),l=xe((l+1)/2)-(l<0||l%2),h==1/0?t="5e"+l:(t=h.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),n=new a(t)):n=new a(h.toString()),r=(l=a.precision)+3;;)if(i=n,n=i.plus(se(o,i,r+2,1)).times(.5),Me(i.d).slice(0,r)===(t=Me(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!u&&t=="4999"){if(!u&&(H(i,l+1,0),i.times(i).eq(o))){n=i;break}r+=4,u=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(H(n,l+1,1),e=!n.times(n).eq(o));break}return Q=!0,H(n,l,a.rounding,e)};x.tangent=x.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=se(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,H(ke==2||ke==4?r.neg():r,e,t,!0)):new n(NaN)};x.times=x.mul=function(e){var t,r,n,u,i,o,s,l,h,a=this,c=a.constructor,D=a.d,F=(e=new c(e)).d;if(e.s*=a.s,!D||!D[0]||!F||!F[0])return new c(!e.s||D&&!D[0]&&!F||F&&!F[0]&&!D?NaN:!D||!F?e.s/0:e.s*0);for(r=xe(a.e/G)+xe(e.e/G),l=D.length,h=F.length,l<h&&(i=D,D=F,F=i,o=l,l=h,h=o),i=[],o=l+h,n=o;n--;)i.push(0);for(n=h;--n>=0;){for(t=0,u=l+n;u>n;)s=i[u]+F[n]*D[u-n-1]+t,i[u--]=s%Je|0,t=s/Je|0;i[u]=(i[u]+t)%Je|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=Vt(i,r),Q?H(e,c.precision,c.rounding):e};x.toBinary=function(e,t){return ar(this,2,e,t)};x.toDecimalPlaces=x.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Re(e,0,nt),t===void 0?t=n.rounding:Re(t,0,8),H(r,e+r.e+1,t))};x.toExponential=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Ge(n,!0):(Re(e,0,nt),t===void 0?t=u.rounding:Re(t,0,8),n=H(new u(n),e+1,t),r=Ge(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};x.toFixed=function(e,t){var r,n,u=this,i=u.constructor;return e===void 0?r=Ge(u):(Re(e,0,nt),t===void 0?t=i.rounding:Re(t,0,8),n=H(new i(u),e+u.e+1,t),r=Ge(n,!1,e+n.e+1)),u.isNeg()&&!u.isZero()?"-"+r:r};x.toFraction=function(e){var t,r,n,u,i,o,s,l,h,a,c,D,F=this,A=F.d,f=F.constructor;if(!A)return new f(F);if(h=r=new f(1),n=l=new f(0),t=new f(n),i=t.e=fn(A)-F.e-1,o=i%G,t.d[0]=ye(10,o<0?G+o:o),e==null)e=i>0?t:h;else{if(s=new f(e),!s.isInt()||s.lt(h))throw Error(rt+s);e=s.gt(t)?i>0?t:h:s}for(Q=!1,s=new f(Me(A)),a=f.precision,f.precision=i=A.length*G*2;c=se(s,t,0,1,1),u=r.plus(c.times(n)),u.cmp(e)!=1;)r=n,n=u,u=h,h=l.plus(c.times(u)),l=u,u=t,t=s.minus(c.times(u)),s=u;return u=se(e.minus(r),n,0,1,1),l=l.plus(u.times(h)),r=r.plus(u.times(n)),l.s=h.s=F.s,D=se(h,n,i,1).minus(F).abs().cmp(se(l,r,i,1).minus(F).abs())<1?[h,n]:[l,r],f.precision=a,Q=!0,D};x.toHexadecimal=x.toHex=function(e,t){return ar(this,16,e,t)};x.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:Re(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Q=!1,r=se(r,e,0,t,1).times(e),Q=!0,H(r)):(e.s=r.s,r=e),r};x.toNumber=function(){return+this};x.toOctal=function(e,t){return ar(this,8,e,t)};x.toPower=x.pow=function(e){var t,r,n,u,i,o,s=this,l=s.constructor,h=+(e=new l(e));if(!s.d||!e.d||!s.d[0]||!e.d[0])return new l(ye(+s,h));if(s=new l(s),s.eq(1))return s;if(n=l.precision,i=l.rounding,e.eq(1))return H(s,n,i);if(t=xe(e.e/G),t>=e.d.length-1&&(r=h<0?-h:h)<=di)return u=cn(l,s,r,n),e.s<0?new l(1).div(u):H(u,n,i);if(o=s.s,o<0){if(t<e.d.length-1)return new l(NaN);if(e.d[t]&1||(o=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=o,s}return r=ye(+s,h),t=r==0||!isFinite(r)?xe(h*(Math.log("0."+Me(s.d))/Math.LN10+s.e+1)):new l(r+"").e,t>l.maxE+1||t<l.minE-1?new l(t>0?o/0:0):(Q=!1,l.rounding=s.s=1,r=Math.min(12,(t+"").length),u=rr(e.times(tt(s,n+r)),n),u.d&&(u=H(u,n+5,1),At(u.d,n,i)&&(t=n+10,u=H(rr(e.times(tt(s,t+r)),t),t+5,1),+Me(u.d).slice(n+1,n+15)+1==1e14&&(u=H(u,n+1,0)))),u.s=o,Q=!0,l.rounding=i,H(u,n,i))};x.toPrecision=function(e,t){var r,n=this,u=n.constructor;return e===void 0?r=Ge(n,n.e<=u.toExpNeg||n.e>=u.toExpPos):(Re(e,1,nt),t===void 0?t=u.rounding:Re(t,0,8),n=H(new u(n),e,t),r=Ge(n,e<=n.e||n.e<=u.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};x.toSignificantDigits=x.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Re(e,1,nt),t===void 0?t=n.rounding:Re(t,0,8)),H(new n(r),e,t)};x.toString=function(){var e=this,t=e.constructor,r=Ge(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};x.truncated=x.trunc=function(){return H(new this.constructor(this),this.e+1,1)};x.valueOf=x.toJSON=function(){var e=this,t=e.constructor,r=Ge(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function Me(e){var t,r,n,u=e.length-1,i="",o=e[0];if(u>0){for(i+=o,t=1;t<u;t++)n=e[t]+"",r=G-n.length,r&&(i+=et(r)),i+=n;o=e[t],n=o+"",r=G-n.length,r&&(i+=et(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}function Re(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rt+e)}function At(e,t,r,n){var u,i,o,s;for(i=e[0];i>=10;i/=10)--t;return--t<0?(t+=G,u=0):(u=Math.ceil((t+1)/G),t%=G),i=ye(10,G-t),s=e[u]%i|0,n==null?t<3?(t==0?s=s/100|0:t==1&&(s=s/10|0),o=r<4&&s==99999||r>3&&s==49999||s==5e4||s==0):o=(r<4&&s+1==i||r>3&&s+1==i/2)&&(e[u+1]/i/100|0)==ye(10,t-2)-1||(s==i/2||s==0)&&(e[u+1]/i/100|0)==0:t<4?(t==0?s=s/1e3|0:t==1?s=s/100|0:t==2&&(s=s/10|0),o=(n||r<4)&&s==9999||!n&&r>3&&s==4999):o=((n||r<4)&&s+1==i||!n&&r>3&&s+1==i/2)&&(e[u+1]/i/1e3|0)==ye(10,t-3)-1,o}function Mt(e,t,r){for(var n,u=[0],i,o=0,s=e.length;o<s;){for(i=u.length;i--;)u[i]*=t;for(u[0]+=kt.indexOf(e.charAt(o++)),n=0;n<u.length;n++)u[n]>r-1&&(u[n+1]===void 0&&(u[n+1]=0),u[n+1]+=u[n]/r|0,u[n]%=r)}return u.reverse()}function mi(e,t){var r,n,u;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),u=(1/Ht(4,r)).toString()):(r=16,u="2.3283064365386962890625e-10"),e.precision+=r,t=dt(e,1,t.times(u),new e(1));for(var i=r;i--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var se=function(){function e(n,u,i){var o,s=0,l=n.length;for(n=n.slice();l--;)o=n[l]*u+s,n[l]=o%i|0,s=o/i|0;return s&&n.unshift(s),n}function t(n,u,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(n[s]!=u[s]){l=n[s]>u[s]?1:-1;break}return l}function r(n,u,i,o){for(var s=0;i--;)n[i]-=s,s=n[i]<u[i]?1:0,n[i]=s*o+n[i]-u[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,u,i,o,s,l){var h,a,c,D,F,A,f,v,w,B,g,N,m,d,C,_,b,I,z,$,W=n.constructor,J=n.s==u.s?1:-1,V=n.d,q=u.d;if(!V||!V[0]||!q||!q[0])return new W(!n.s||!u.s||(V?q&&V[0]==q[0]:!q)?NaN:V&&V[0]==0||!q?J*0:J/0);for(l?(F=1,a=n.e-u.e):(l=Je,F=G,a=xe(n.e/F)-xe(u.e/F)),z=q.length,b=V.length,w=new W(J),B=w.d=[],c=0;q[c]==(V[c]||0);c++);if(q[c]>(V[c]||0)&&a--,i==null?(d=i=W.precision,o=W.rounding):s?d=i+(n.e-u.e)+1:d=i,d<0)B.push(1),A=!0;else{if(d=d/F+2|0,c=0,z==1){for(D=0,q=q[0],d++;(c<b||D)&&d--;c++)C=D*l+(V[c]||0),B[c]=C/q|0,D=C%q|0;A=D||c<b}else{for(D=l/(q[0]+1)|0,D>1&&(q=e(q,D,l),V=e(V,D,l),z=q.length,b=V.length),_=z,g=V.slice(0,z),N=g.length;N<z;)g[N++]=0;$=q.slice(),$.unshift(0),I=q[0],q[1]>=l/2&&++I;do D=0,h=t(q,g,z,N),h<0?(m=g[0],z!=N&&(m=m*l+(g[1]||0)),D=m/I|0,D>1?(D>=l&&(D=l-1),f=e(q,D,l),v=f.length,N=g.length,h=t(f,g,v,N),h==1&&(D--,r(f,z<v?$:q,v,l))):(D==0&&(h=D=1),f=q.slice()),v=f.length,v<N&&f.unshift(0),r(g,f,N,l),h==-1&&(N=g.length,h=t(q,g,z,N),h<1&&(D++,r(g,z<N?$:q,N,l))),N=g.length):h===0&&(D++,g=[0]),B[c++]=D,h&&g[0]?g[N++]=V[_]||0:(g=[V[_]],N=1);while((_++<b||g[0]!==void 0)&&d--);A=g[0]!==void 0}B[0]||B.shift()}if(F==1)w.e=a,nn=A;else{for(c=1,D=B[0];D>=10;D/=10)c++;w.e=c+a*F-1,H(w,s?i+w.e+1:i,o,A)}return w}}();function H(e,t,r,n){var u,i,o,s,l,h,a,c,D,F=e.constructor;e:if(t!=null){if(c=e.d,!c)return e;for(u=1,s=c[0];s>=10;s/=10)u++;if(i=t-u,i<0)i+=G,o=t,a=c[D=0],l=a/ye(10,u-o-1)%10|0;else if(D=Math.ceil((i+1)/G),s=c.length,D>=s)if(n){for(;s++<=D;)c.push(0);a=l=0,u=1,i%=G,o=i-G+1}else break e;else{for(a=s=c[D],u=1;s>=10;s/=10)u++;i%=G,o=i-G+u,l=o<0?0:a/ye(10,u-o-1)%10|0}if(n=n||t<0||c[D+1]!==void 0||(o<0?a:a%ye(10,u-o-1)),h=r<4?(l||n)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||n||r==6&&(i>0?o>0?a/ye(10,u-o):0:c[D-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,h?(t-=e.e+1,c[0]=ye(10,(G-t%G)%G),e.e=-t||0):c[0]=e.e=0,e;if(i==0?(c.length=D,s=1,D--):(c.length=D+1,s=ye(10,G-i),c[D]=o>0?(a/ye(10,u-o)%ye(10,o)|0)*s:0),h)for(;;)if(D==0){for(i=1,o=c[0];o>=10;o/=10)i++;for(o=c[0]+=s,s=1;o>=10;o/=10)s++;i!=s&&(e.e++,c[0]==Je&&(c[0]=1));break}else{if(c[D]+=s,c[D]!=Je)break;c[D--]=0,s=1}for(i=c.length;c[--i]===0;)c.pop()}return Q&&(e.e>F.maxE?(e.d=null,e.e=NaN):e.e<F.minE&&(e.e=0,e.d=[0])),e}function Ge(e,t,r){if(!e.isFinite())return hn(e);var n,u=e.e,i=Me(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+et(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(e.e<0?"e":"e+")+e.e):u<0?(i="0."+et(-u-1)+i,r&&(n=r-o)>0&&(i+=et(n))):u>=o?(i+=et(u+1-o),r&&(n=r-u-1)>0&&(i=i+"."+et(n))):((n=u+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(u+1===o&&(i+="."),i+=et(n))),i}function Vt(e,t){var r=e[0];for(t*=G;r>=10;r/=10)t++;return t}function Rt(e,t,r){if(t>vi)throw Q=!0,r&&(e.precision=r),Error(un);return H(new e(zt),t,1,!0)}function Xe(e,t,r){if(t>tr)throw Error(un);return H(new e(Pt),t,r,!0)}function fn(e){var t=e.length-1,r=t*G+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function et(e){for(var t="";e--;)t+="0";return t}function cn(e,t,r,n){var u,i=new e(1),o=Math.ceil(n/G+4);for(Q=!1;;){if(r%2&&(i=i.times(t),yr(i.d,o)&&(u=!0)),r=xe(r/2),r===0){r=i.d.length-1,u&&i.d[r]===0&&++i.d[r];break}t=t.times(t),yr(t.d,o)}return Q=!0,i}function Cr(e){return e.d[e.d.length-1]&1}function ln(e,t,r){for(var n,u,i=new e(t[0]),o=0;++o<t.length;){if(u=new e(t[o]),!u.s){i=u;break}n=i.cmp(u),(n===r||n===0&&i.s===r)&&(i=u)}return i}function rr(e,t){var r,n,u,i,o,s,l,h=0,a=0,c=0,D=e.constructor,F=D.rounding,A=D.precision;if(!e.d||!e.d[0]||e.e>17)return new D(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(t==null?(Q=!1,l=A):l=t,s=new D(.03125);e.e>-2;)e=e.times(s),c+=5;for(n=Math.log(ye(2,c))/Math.LN10*2+5|0,l+=n,r=i=o=new D(1),D.precision=l;;){if(i=H(i.times(e),l,1),r=r.times(++a),s=o.plus(se(i,r,l,1)),Me(s.d).slice(0,l)===Me(o.d).slice(0,l)){for(u=c;u--;)o=H(o.times(o),l,1);if(t==null)if(h<3&&At(o.d,l-n,F,h))D.precision=l+=10,r=i=s=new D(1),a=0,h++;else return H(o,D.precision=A,F,Q=!0);else return D.precision=A,o}o=s}}function tt(e,t){var r,n,u,i,o,s,l,h,a,c,D,F=1,A=10,f=e,v=f.d,w=f.constructor,B=w.rounding,g=w.precision;if(f.s<0||!v||!v[0]||!f.e&&v[0]==1&&v.length==1)return new w(v&&!v[0]?-1/0:f.s!=1?NaN:v?0:f);if(t==null?(Q=!1,a=g):a=t,w.precision=a+=A,r=Me(v),n=r.charAt(0),Math.abs(i=f.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)f=f.times(e),r=Me(f.d),n=r.charAt(0),F++;i=f.e,n>1?(f=new w("0."+r),i++):f=new w(n+"."+r.slice(1))}else return h=Rt(w,a+2,g).times(i+""),f=tt(new w(n+"."+r.slice(1)),a-A).plus(h),w.precision=g,t==null?H(f,g,B,Q=!0):f;for(c=f,l=o=f=se(f.minus(1),f.plus(1),a,1),D=H(f.times(f),a,1),u=3;;){if(o=H(o.times(D),a,1),h=l.plus(se(o,new w(u),a,1)),Me(h.d).slice(0,a)===Me(l.d).slice(0,a))if(l=l.times(2),i!==0&&(l=l.plus(Rt(w,a+2,g).times(i+""))),l=se(l,new w(F),a,1),t==null)if(At(l.d,a-A,B,s))w.precision=a+=A,h=o=f=se(c.minus(1),c.plus(1),a,1),D=H(f.times(f),a,1),u=s=1;else return H(l,w.precision=g,B,Q=!0);else return w.precision=g,l;l=h,u+=2}}function hn(e){return String(e.s*e.s/0)}function St(e,t){var r,n,u;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(u=t.length;t.charCodeAt(u-1)===48;--u);if(t=t.slice(n,u),t){if(u-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%G,r<0&&(n+=G),n<u){for(n&&e.d.push(+t.slice(0,n)),u-=G;n<u;)e.d.push(+t.slice(n,n+=G));t=t.slice(n),n=G-t.length}else n-=u;for(;n--;)t+="0";e.d.push(+t),Q&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function gi(e,t){var r,n,u,i,o,s,l,h,a;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),sn.test(t))return St(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(Di.test(t))r=16,t=t.toLowerCase();else if(hi.test(t))r=2;else if(pi.test(t))r=8;else throw Error(rt+t);for(i=t.search(/p/i),i>0?(l=+t.slice(i+1),t=t.substring(2,i)):t=t.slice(2),i=t.indexOf("."),o=i>=0,n=e.constructor,o&&(t=t.replace(".",""),s=t.length,i=s-i,u=cn(n,new n(r),i,i*2)),h=Mt(t,r,Je),a=h.length-1,i=a;h[i]===0;--i)h.pop();return i<0?new n(e.s*0):(e.e=Vt(h,a),e.d=h,Q=!1,o&&(e=se(e,u,s*4)),l&&(e=e.times(Math.abs(l)<54?ye(2,l):vt.pow(2,l))),Q=!0,e)}function Fi(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:dt(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Ht(5,r)),t=dt(e,2,t,t);for(var u,i=new e(5),o=new e(16),s=new e(20);r--;)u=t.times(t),t=t.times(i.plus(u.times(o.times(u).minus(s))));return t}function dt(e,t,r,n,u){var i,o,s,l,h=e.precision,a=Math.ceil(h/G);for(Q=!1,l=r.times(r),s=new e(n);;){if(o=se(s.times(l),new e(t++*t++),h,1),s=u?n.plus(o):n.minus(o),n=se(o.times(l),new e(t++*t++),h,1),o=s.plus(n),o.d[a]!==void 0){for(i=a;o.d[i]===s.d[i]&&i--;);if(i==-1)break}i=s,s=n,n=o,o=i}return Q=!0,o.d.length=a+1,o}function Ht(e,t){for(var r=e;--t;)r*=e;return r}function Dn(e,t){var r,n=t.s<0,u=Xe(e,e.precision,1),i=u.times(.5);if(t=t.abs(),t.lte(i))return ke=n?4:1,t;if(r=t.divToInt(u),r.isZero())ke=n?3:2;else{if(t=t.minus(r.times(u)),t.lte(i))return ke=Cr(r)?n?2:3:n?4:1,t;ke=Cr(r)?n?1:4:n?3:2}return t.minus(u).abs()}function ar(e,t,r,n){var u,i,o,s,l,h,a,c,D,F=e.constructor,A=r!==void 0;if(A?(Re(r,1,nt),n===void 0?n=F.rounding:Re(n,0,8)):(r=F.precision,n=F.rounding),!e.isFinite())a=hn(e);else{for(a=Ge(e),o=a.indexOf("."),A?(u=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):u=t,o>=0&&(a=a.replace(".",""),D=new F(1),D.e=a.length-o,D.d=Mt(Ge(D),10,u),D.e=D.d.length),c=Mt(a,10,u),i=l=c.length;c[--l]==0;)c.pop();if(!c[0])a=A?"0p+0":"0";else{if(o<0?i--:(e=new F(e),e.d=c,e.e=i,e=se(e,D,r,n,0,u),c=e.d,i=e.e,h=nn),o=c[r],s=u/2,h=h||c[r+1]!==void 0,h=n<4?(o!==void 0||h)&&(n===0||n===(e.s<0?3:2)):o>s||o===s&&(n===4||h||n===6&&c[r-1]&1||n===(e.s<0?8:7)),c.length=r,h)for(;++c[--r]>u-1;)c[r]=0,r||(++i,c.unshift(1));for(l=c.length;!c[l-1];--l);for(o=0,a="";o<l;o++)a+=kt.charAt(c[o]);if(A){if(l>1)if(t==16||t==8){for(o=t==16?4:3,--l;l%o;l++)a+="0";for(c=Mt(a,u,t),l=c.length;!c[l-1];--l);for(o=1,a="1.";o<l;o++)a+=kt.charAt(c[o])}else a=a.charAt(0)+"."+a.slice(1);a=a+(i<0?"p":"p+")+i}else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(++i>l)for(i-=l;i--;)a+="0";else i<l&&(a=a.slice(0,i)+"."+a.slice(i))}a=(t==16?"0x":t==2?"0b":t==8?"0o":"")+a}return e.s<0?"-"+a:a}function yr(e,t){if(e.length>t)return e.length=t,!0}function wi(e){return new this(e).abs()}function Ei(e){return new this(e).acos()}function Ai(e){return new this(e).acosh()}function Ci(e,t){return new this(e).plus(t)}function yi(e){return new this(e).asin()}function Bi(e){return new this(e).asinh()}function Ni(e){return new this(e).atan()}function bi(e){return new this(e).atanh()}function _i(e,t){e=new this(e),t=new this(t);var r,n=this.precision,u=this.rounding,i=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Xe(this,i,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Xe(this,n,u):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Xe(this,i,1).times(.5),r.s=e.s):t.s<0?(this.precision=i,this.rounding=1,r=this.atan(se(e,t,i,1)),t=Xe(this,i,1),this.precision=n,this.rounding=u,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(se(e,t,i,1)),r}function Mi(e){return new this(e).cbrt()}function Si(e){return H(e=new this(e),e.e+1,2)}function Ti(e,t,r){return new this(e).clamp(t,r)}function xi(e){if(!e||typeof e!="object")throw Error(Zt+"Object expected");var t,r,n,u=e.defaults===!0,i=["precision",1,nt,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,jt,"maxE",0,jt,"minE",-9e15,0,"modulo",0,9];for(t=0;t<i.length;t+=3)if(r=i[t],u&&(this[r]=er[r]),(n=e[r])!==void 0)if(xe(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(rt+r+": "+n);if(r="crypto",u&&(this[r]=er[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(on);else this[r]=!1;else throw Error(rt+r+": "+n);return this}function Oi(e){return new this(e).cos()}function Ii(e){return new this(e).cosh()}function pn(e){var t,r,n;function u(i){var o,s,l,h=this;if(!(h instanceof u))return new u(i);if(h.constructor=u,Br(i)){h.s=i.s,Q?!i.d||i.e>u.maxE?(h.e=NaN,h.d=null):i.e<u.minE?(h.e=0,h.d=[0]):(h.e=i.e,h.d=i.d.slice()):(h.e=i.e,h.d=i.d?i.d.slice():i.d);return}if(l=typeof i,l==="number"){if(i===0){h.s=1/i<0?-1:1,h.e=0,h.d=[0];return}if(i<0?(i=-i,h.s=-1):h.s=1,i===~~i&&i<1e7){for(o=0,s=i;s>=10;s/=10)o++;Q?o>u.maxE?(h.e=NaN,h.d=null):o<u.minE?(h.e=0,h.d=[0]):(h.e=o,h.d=[i]):(h.e=o,h.d=[i]);return}if(i*0!==0){i||(h.s=NaN),h.e=NaN,h.d=null;return}return St(h,i.toString())}if(l==="string")return(s=i.charCodeAt(0))===45?(i=i.slice(1),h.s=-1):(s===43&&(i=i.slice(1)),h.s=1),sn.test(i)?St(h,i):gi(h,i);if(l==="bigint")return i<0?(i=-i,h.s=-1):h.s=1,St(h,i.toString());throw Error(rt+i)}if(u.prototype=x,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=xi,u.clone=pn,u.isDecimal=Br,u.abs=wi,u.acos=Ei,u.acosh=Ai,u.add=Ci,u.asin=yi,u.asinh=Bi,u.atan=Ni,u.atanh=bi,u.atan2=_i,u.cbrt=Mi,u.ceil=Si,u.clamp=Ti,u.cos=Oi,u.cosh=Ii,u.div=zi,u.exp=Pi,u.floor=Ri,u.hypot=qi,u.ln=$i,u.log=Ui,u.log10=Zi,u.log2=Li,u.max=Vi,u.min=Hi,u.mod=Wi,u.mul=Ji,u.pow=Yi,u.random=Xi,u.round=Gi,u.sign=Ki,u.sin=Qi,u.sinh=ji,u.sqrt=ki,u.sub=eo,u.sum=to,u.tan=ro,u.tanh=no,u.trunc=uo,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return u.config(e),u}function zi(e,t){return new this(e).div(t)}function Pi(e){return new this(e).exp()}function Ri(e){return H(e=new this(e),e.e+1,3)}function qi(){var e,t,r=new this(0);for(Q=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Q=!0,new this(1/0);r=t}return Q=!0,r.sqrt()}function Br(e){return e instanceof vt||e&&e.toStringTag===an||!1}function $i(e){return new this(e).ln()}function Ui(e,t){return new this(e).log(t)}function Li(e){return new this(e).log(2)}function Zi(e){return new this(e).log(10)}function Vi(){return ln(this,arguments,-1)}function Hi(){return ln(this,arguments,1)}function Wi(e,t){return new this(e).mod(t)}function Ji(e,t){return new this(e).mul(t)}function Yi(e,t){return new this(e).pow(t)}function Xi(e){var t,r,n,u,i=0,o=new this(1),s=[];if(e===void 0?e=this.precision:Re(e,1,nt),n=Math.ceil(e/G),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));i<n;)u=t[i],u>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:s[i++]=u%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);i<n;)u=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((t[i+3]&127)<<24),u>=214e7?crypto.randomBytes(4).copy(t,i):(s.push(u%1e7),i+=4);i=n/4}else throw Error(on);else for(;i<n;)s[i++]=Math.random()*1e7|0;for(n=s[--i],e%=G,n&&e&&(u=ye(10,G-e),s[i]=(n/u|0)*u);s[i]===0;i--)s.pop();if(i<0)r=0,s=[0];else{for(r=-1;s[0]===0;r-=G)s.shift();for(n=1,u=s[0];u>=10;u/=10)n++;n<G&&(r-=G-n)}return o.e=r,o.d=s,o}function Gi(e){return H(e=new this(e),e.e+1,this.rounding)}function Ki(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Qi(e){return new this(e).sin()}function ji(e){return new this(e).sinh()}function ki(e){return new this(e).sqrt()}function eo(e,t){return new this(e).sub(t)}function to(){var e=0,t=arguments,r=new this(t[e]);for(Q=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Q=!0,H(r,this.precision,this.rounding)}function ro(e){return new this(e).tan()}function no(e){return new this(e).tanh()}function uo(e){return H(e=new this(e),e.e+1,1)}x[Symbol.for("nodejs.util.inspect.custom")]=x.toString;x[Symbol.toStringTag]="Decimal";var vt=x.constructor=pn(er);zt=new vt(zt);Pt=new vt(Pt);var io="BigNumber",oo=["?on","config"],ao=k(io,oo,e=>{var{on:t,config:r}=e,n=vt.clone({precision:r.precision,modulo:vt.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},t&&t("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0});const Se=Math.cosh||function(e){return Math.abs(e)<1e-9?1-e:(Math.exp(e)+Math.exp(-e))*.5},Ze=Math.sinh||function(e){return Math.abs(e)<1e-9?e:(Math.exp(e)-Math.exp(-e))*.5},so=function(e){const t=Math.PI/4;if(-t>e||e>t)return Math.cos(e)-1;const r=e*e;return r*(r*(r*(r*(r*(r*(r*(r/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},Xt=function(e,t){return e=Math.abs(e),t=Math.abs(t),e<t&&([e,t]=[t,e]),e<1e8?Math.sqrt(e*e+t*t):(t/=e,e*Math.sqrt(1+t*t))},ct=function(){throw SyntaxError("Invalid Param")};function Gt(e,t){const r=Math.abs(e),n=Math.abs(t);return e===0?Math.log(n):t===0?Math.log(r):r<3e3&&n<3e3?Math.log(e*e+t*t)*.5:(e=e*.5,t=t*.5,.5*Math.log(e*e+t*t)+Math.LN2)}const fo={re:0,im:0},it=function(e,t){const r=fo;if(e==null)r.re=r.im=0;else if(t!==void 0)r.re=e,r.im=t;else switch(typeof e){case"object":if("im"in e&&"re"in e)r.re=e.re,r.im=e.im;else if("abs"in e&&"arg"in e){if(!isFinite(e.abs)&&isFinite(e.arg))return M.INFINITY;r.re=e.abs*Math.cos(e.arg),r.im=e.abs*Math.sin(e.arg)}else if("r"in e&&"phi"in e){if(!isFinite(e.r)&&isFinite(e.phi))return M.INFINITY;r.re=e.r*Math.cos(e.phi),r.im=e.r*Math.sin(e.phi)}else e.length===2?(r.re=e[0],r.im=e[1]):ct();break;case"string":r.im=r.re=0;const n=e.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let u=1,i=0;n===null&&ct();for(let o=0;o<n.length;o++){const s=n[o];s===" "||s==="	"||s===`
`||(s==="+"?u++:s==="-"?i++:s==="i"||s==="I"?(u+i===0&&ct(),n[o+1]!==" "&&!isNaN(n[o+1])?(r.im+=parseFloat((i%2?"-":"")+n[o+1]),o++):r.im+=parseFloat((i%2?"-":"")+"1"),u=i=0):((u+i===0||isNaN(s))&&ct(),n[o+1]==="i"||n[o+1]==="I"?(r.im+=parseFloat((i%2?"-":"")+s),o++):r.re+=parseFloat((i%2?"-":"")+s),u=i=0))}u+i>0&&ct();break;case"number":r.im=0,r.re=e;break;default:ct()}return isNaN(r.re)||isNaN(r.im),r};function M(e,t){if(!(this instanceof M))return new M(e,t);const r=it(e,t);this.re=r.re,this.im=r.im}M.prototype={re:0,im:0,sign:function(){const e=Xt(this.re,this.im);return new M(this.re/e,this.im/e)},add:function(e,t){const r=it(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re+r.re,this.im+r.im)},sub:function(e,t){const r=it(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im));return n||u?n&&u?M.NAN:M.INFINITY:new M(this.re-r.re,this.im-r.im)},mul:function(e,t){const r=it(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;return n&&o||u&&i?M.NAN:n||u?M.INFINITY:r.im===0&&this.im===0?new M(this.re*r.re,0):new M(this.re*r.re-this.im*r.im,this.re*r.im+this.im*r.re)},div:function(e,t){const r=it(e,t),n=this.isInfinite(),u=!(isFinite(r.re)&&isFinite(r.im)),i=this.re===0&&this.im===0,o=r.re===0&&r.im===0;if(i&&o||n&&u)return M.NAN;if(o||n)return M.INFINITY;if(i||u)return M.ZERO;if(r.im===0)return new M(this.re/r.re,this.im/r.re);if(Math.abs(r.re)<Math.abs(r.im)){const s=r.re/r.im,l=r.re*s+r.im;return new M((this.re*s+this.im)/l,(this.im*s-this.re)/l)}else{const s=r.im/r.re,l=r.im*s+r.re;return new M((this.re+this.im*s)/l,(this.im-this.re*s)/l)}},pow:function(e,t){const r=it(e,t),n=this.re===0&&this.im===0;if(r.re===0&&r.im===0)return M.ONE;if(r.im===0){if(this.im===0&&this.re>0)return new M(Math.pow(this.re,r.re),0);if(this.re===0)switch((r.re%4+4)%4){case 0:return new M(Math.pow(this.im,r.re),0);case 1:return new M(0,Math.pow(this.im,r.re));case 2:return new M(-Math.pow(this.im,r.re),0);case 3:return new M(0,-Math.pow(this.im,r.re))}}if(n&&r.re>0)return M.ZERO;const i=Math.atan2(this.im,this.re),o=Gt(this.re,this.im);let s=Math.exp(r.re*o-r.im*i),l=r.im*o+r.re*i;return new M(s*Math.cos(l),s*Math.sin(l))},sqrt:function(){const e=this.re,t=this.im;if(t===0)return e>=0?new M(Math.sqrt(e),0):new M(0,Math.sqrt(-e));const r=Xt(e,t);let n=Math.sqrt(.5*(r+Math.abs(e))),u=Math.abs(t)/(2*n);return e>=0?new M(n,t<0?-u:u):new M(u,t<0?-n:n)},exp:function(){const e=Math.exp(this.re);return this.im===0?new M(e,0):new M(e*Math.cos(this.im),e*Math.sin(this.im))},expm1:function(){const e=this.re,t=this.im;return new M(Math.expm1(e)*Math.cos(t)+so(t),Math.exp(e)*Math.sin(t))},log:function(){const e=this.re,t=this.im;return t===0&&e>0?new M(Math.log(e),0):new M(Gt(e,t),Math.atan2(t,e))},abs:function(){return Xt(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const e=this.re,t=this.im;return new M(Math.sin(e)*Se(t),Math.cos(e)*Ze(t))},cos:function(){const e=this.re,t=this.im;return new M(Math.cos(e)*Se(t),-Math.sin(e)*Ze(t))},tan:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)+Se(t);return new M(Math.sin(e)/r,Ze(t)/r)},cot:function(){const e=2*this.re,t=2*this.im,r=Math.cos(e)-Se(t);return new M(-Math.sin(e)/r,Ze(t)/r)},sec:function(){const e=this.re,t=this.im,r=.5*Se(2*t)+.5*Math.cos(2*e);return new M(Math.cos(e)*Se(t)/r,Math.sin(e)*Ze(t)/r)},csc:function(){const e=this.re,t=this.im,r=.5*Se(2*t)-.5*Math.cos(2*e);return new M(Math.sin(e)*Se(t)/r,-Math.cos(e)*Ze(t)/r)},asin:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(n.im,-n.re)},acos:function(){const e=this.re,t=this.im,r=new M(t*t-e*e+1,-2*e*t).sqrt(),n=new M(r.re-t,r.im+e).log();return new M(Math.PI/2-n.im,n.re)},atan:function(){const e=this.re,t=this.im;if(e===0){if(t===1)return new M(0,1/0);if(t===-1)return new M(0,-1/0)}const r=e*e+(1-t)*(1-t),n=new M((1-t*t-e*e)/r,-2*e/r).log();return new M(-.5*n.im,.5*n.re)},acot:function(){const e=this.re,t=this.im;if(t===0)return new M(Math.atan2(1,e),0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atan():new M(e!==0?e/0:0,t!==0?-t/0:0).atan()},asec:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acos():new M(e!==0?e/0:0,t!==0?-t/0:0).acos()},acsc:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(Math.PI/2,1/0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asin():new M(e!==0?e/0:0,t!==0?-t/0:0).asin()},sinh:function(){const e=this.re,t=this.im;return new M(Ze(e)*Math.cos(t),Se(e)*Math.sin(t))},cosh:function(){const e=this.re,t=this.im;return new M(Se(e)*Math.cos(t),Ze(e)*Math.sin(t))},tanh:function(){const e=2*this.re,t=2*this.im,r=Se(e)+Math.cos(t);return new M(Ze(e)/r,Math.sin(t)/r)},coth:function(){const e=2*this.re,t=2*this.im,r=Se(e)-Math.cos(t);return new M(Ze(e)/r,-Math.sin(t)/r)},csch:function(){const e=this.re,t=this.im,r=Math.cos(2*t)-Se(2*e);return new M(-2*Ze(e)*Math.cos(t)/r,2*Se(e)*Math.sin(t)/r)},sech:function(){const e=this.re,t=this.im,r=Math.cos(2*t)+Se(2*e);return new M(2*Se(e)*Math.cos(t)/r,-2*Ze(e)*Math.sin(t)/r)},asinh:function(){let e=this.im;this.im=-this.re,this.re=e;const t=this.asin();return this.re=-this.im,this.im=e,e=t.re,t.re=-t.im,t.im=e,t},acosh:function(){const e=this.acos();if(e.im<=0){const t=e.re;e.re=-e.im,e.im=t}else{const t=e.im;e.im=-e.re,e.re=t}return e},atanh:function(){const e=this.re,t=this.im,r=e>1&&t===0,n=1-e,u=1+e,i=n*n+t*t,o=i!==0?new M((u*n-t*t)/i,(t*n+u*t)/i):new M(e!==-1?e/0:0,t!==0?t/0:0),s=o.re;return o.re=Gt(o.re,o.im)/2,o.im=Math.atan2(o.im,s)/2,r&&(o.im=-o.im),o},acoth:function(){const e=this.re,t=this.im;if(e===0&&t===0)return new M(0,Math.PI/2);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).atanh():new M(e!==0?e/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const e=this.re,t=this.im;if(t===0)return new M(e!==0?Math.log(e+Math.sqrt(e*e+1)):1/0,0);const r=e*e+t*t;return r!==0?new M(e/r,-t/r).asinh():new M(e!==0?e/0:0,t!==0?-t/0:0).asinh()},asech:function(){const e=this.re,t=this.im;if(this.isZero())return M.INFINITY;const r=e*e+t*t;return r!==0?new M(e/r,-t/r).acosh():new M(e!==0?e/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return M.INFINITY;if(this.isInfinite())return M.ZERO;const e=this.re,t=this.im,r=e*e+t*t;return new M(e/r,-t/r)},conjugate:function(){return new M(this.re,-this.im)},neg:function(){return new M(-this.re,-this.im)},ceil:function(e){return e=Math.pow(10,e||0),new M(Math.ceil(this.re*e)/e,Math.ceil(this.im*e)/e)},floor:function(e){return e=Math.pow(10,e||0),new M(Math.floor(this.re*e)/e,Math.floor(this.im*e)/e)},round:function(e){return e=Math.pow(10,e||0),new M(Math.round(this.re*e)/e,Math.round(this.im*e)/e)},equals:function(e,t){const r=it(e,t);return Math.abs(r.re-this.re)<=M.EPSILON&&Math.abs(r.im-this.im)<=M.EPSILON},clone:function(){return new M(this.re,this.im)},toString:function(){let e=this.re,t=this.im,r="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(e)<M.EPSILON&&(e=0),Math.abs(t)<M.EPSILON&&(t=0),t===0?r+e:(e!==0?(r+=e,r+=" ",t<0?(t=-t,r+="-"):r+="+",r+=" "):t<0&&(t=-t,r+="-"),t!==1&&(r+=t),r+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}};M.ZERO=new M(0,0);M.ONE=new M(1,0);M.I=new M(0,1);M.PI=new M(Math.PI,0);M.E=new M(Math.E,0);M.INFINITY=new M(1/0,1/0);M.NAN=new M(NaN,NaN);M.EPSILON=1e-15;var co="Complex",lo=[],ho=k(co,lo,()=>(Object.defineProperty(M,"name",{value:"Complex"}),M.prototype.constructor=M,M.prototype.type="Complex",M.prototype.isComplex=!0,M.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},M.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},M.prototype.format=function(e){var t="",r=this.im,n=this.re,u=Qt(this.re,e),i=Qt(this.im,e),o=le(e)?e:e?e.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(n/r)<s&&(n=0),Math.abs(r/n)<s&&(r=0)}return r===0?t=u:n===0?r===1?t="i":r===-1?t="-i":t=i+"i":r<0?r===-1?t=u+" - i":t=u+" - "+i.substring(1)+"i":r===1?t=u+" + i":t=u+" + "+i+"i",t},M.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return M(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(le(r)){if(Kr(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),le(n))return new M({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},M.prototype.valueOf=M.prototype.toString,M.fromJSON=function(e){return new M(e)},M.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},M),{isClass:!0});/**
 * @license Fraction.js v4.3.7 31/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/var Do=2e3,Z={s:1,n:0,d:1};function je(e,t){if(isNaN(e=parseInt(e,10)))throw Tt();return e*t}function De(e,t){if(t===0)throw sr();var r=Object.create(Te.prototype);r.s=e<0?-1:1,e=e<0?-e:e;var n=lt(e,t);return r.n=e/n,r.d=t/n,r}function Nr(e){for(var t={},r=e,n=2,u=4;u<=r;){for(;r%n===0;)r/=n,t[n]=(t[n]||0)+1;u+=1+2*n++}return r!==e?r>1&&(t[r]=(t[r]||0)+1):t[e]=(t[e]||0)+1,t}var qe=function(e,t){var r=0,n=1,u=1,i=0,o=0,s=0,l=1,h=1,a=0,c=1,D=1,F=1,A=1e7,f;if(e!=null)if(t!==void 0){if(r=e,n=t,u=r*n,r%1!==0||n%1!==0)throw go()}else switch(typeof e){case"object":{if("d"in e&&"n"in e)r=e.n,n=e.d,"s"in e&&(r*=e.s);else if(0 in e)r=e[0],1 in e&&(n=e[1]);else throw Tt();u=r*n;break}case"number":{if(e<0&&(u=e,e=-e),e%1===0)r=e;else if(e>0){for(e>=1&&(h=Math.pow(10,Math.floor(1+Math.log(e)/Math.LN10)),e/=h);c<=A&&F<=A;)if(f=(a+D)/(c+F),e===f){c+F<=A?(r=a+D,n=c+F):F>c?(r=D,n=F):(r=a,n=c);break}else e>f?(a+=D,c+=F):(D+=a,F+=c),c>A?(r=D,n=F):(r=a,n=c);r*=h}else(isNaN(e)||isNaN(t))&&(n=r=NaN);break}case"string":{if(c=e.match(/\d+|./g),c===null)throw Tt();if(c[a]==="-"?(u=-1,a++):c[a]==="+"&&a++,c.length===a+1?o=je(c[a++],u):c[a+1]==="."||c[a]==="."?(c[a]!=="."&&(i=je(c[a++],u)),a++,(a+1===c.length||c[a+1]==="("&&c[a+3]===")"||c[a+1]==="'"&&c[a+3]==="'")&&(o=je(c[a],u),l=Math.pow(10,c[a].length),a++),(c[a]==="("&&c[a+2]===")"||c[a]==="'"&&c[a+2]==="'")&&(s=je(c[a+1],u),h=Math.pow(10,c[a+1].length)-1,a+=3)):c[a+1]==="/"||c[a+1]===":"?(o=je(c[a],u),l=je(c[a+2],1),a+=3):c[a+3]==="/"&&c[a+1]===" "&&(i=je(c[a],u),o=je(c[a+2],u),l=je(c[a+4],1),a+=5),c.length<=a){n=l*h,u=r=s+n*i+h*o;break}}default:throw Tt()}if(n===0)throw sr();Z.s=u<0?-1:1,Z.n=Math.abs(r),Z.d=Math.abs(n)};function po(e,t,r){for(var n=1;t>0;e=e*e%r,t>>=1)t&1&&(n=n*e%r);return n}function vo(e,t){for(;t%2===0;t/=2);for(;t%5===0;t/=5);if(t===1)return 0;for(var r=10%t,n=1;r!==1;n++)if(r=r*10%t,n>Do)return 0;return n}function mo(e,t,r){for(var n=1,u=po(10,r,t),i=0;i<300;i++){if(n===u)return i;n=n*10%t,u=u*10%t}return 0}function lt(e,t){if(!e)return t;if(!t)return e;for(;;){if(e%=t,!e)return t;if(t%=e,!t)return e}}function Te(e,t){if(qe(e,t),this instanceof Te)e=lt(Z.d,Z.n),this.s=Z.s,this.n=Z.n/e,this.d=Z.d/e;else return De(Z.s*Z.n,Z.d)}var sr=function(){return new Error("Division by Zero")},Tt=function(){return new Error("Invalid argument")},go=function(){return new Error("Parameters must be integer")};Te.prototype={s:1,n:0,d:1,abs:function(){return De(this.n,this.d)},neg:function(){return De(-this.s*this.n,this.d)},add:function(e,t){return qe(e,t),De(this.s*this.n*Z.d+Z.s*this.d*Z.n,this.d*Z.d)},sub:function(e,t){return qe(e,t),De(this.s*this.n*Z.d-Z.s*this.d*Z.n,this.d*Z.d)},mul:function(e,t){return qe(e,t),De(this.s*Z.s*this.n*Z.n,this.d*Z.d)},div:function(e,t){return qe(e,t),De(this.s*Z.s*this.n*Z.d,this.d*Z.n)},clone:function(){return De(this.s*this.n,this.d)},mod:function(e,t){if(isNaN(this.n)||isNaN(this.d))return new Te(NaN);if(e===void 0)return De(this.s*this.n%this.d,1);if(qe(e,t),Z.n===0&&this.d===0)throw sr();return De(this.s*(Z.d*this.n)%(Z.n*this.d),Z.d*this.d)},gcd:function(e,t){return qe(e,t),De(lt(Z.n,this.n)*lt(Z.d,this.d),Z.d*this.d)},lcm:function(e,t){return qe(e,t),Z.n===0&&this.n===0?De(0,1):De(Z.n*this.n,lt(Z.n,this.n)*lt(Z.d,this.d))},ceil:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new Te(NaN):De(Math.ceil(e*this.s*this.n/this.d),e)},floor:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new Te(NaN):De(Math.floor(e*this.s*this.n/this.d),e)},round:function(e){return e=Math.pow(10,e||0),isNaN(this.n)||isNaN(this.d)?new Te(NaN):De(Math.round(e*this.s*this.n/this.d),e)},roundTo:function(e,t){return qe(e,t),De(this.s*Math.round(this.n*Z.d/(this.d*Z.n))*Z.n,Z.d)},inverse:function(){return De(this.s*this.d,this.n)},pow:function(e,t){if(qe(e,t),Z.d===1)return Z.s<0?De(Math.pow(this.s*this.d,Z.n),Math.pow(this.n,Z.n)):De(Math.pow(this.s*this.n,Z.n),Math.pow(this.d,Z.n));if(this.s<0)return null;var r=Nr(this.n),n=Nr(this.d),u=1,i=1;for(var o in r)if(o!=="1"){if(o==="0"){u=0;break}if(r[o]*=Z.n,r[o]%Z.d===0)r[o]/=Z.d;else return null;u*=Math.pow(o,r[o])}for(var o in n)if(o!=="1"){if(n[o]*=Z.n,n[o]%Z.d===0)n[o]/=Z.d;else return null;i*=Math.pow(o,n[o])}return Z.s<0?De(i,u):De(u,i)},equals:function(e,t){return qe(e,t),this.s*this.n*Z.d===Z.s*Z.n*this.d},compare:function(e,t){qe(e,t);var r=this.s*this.n*Z.d-Z.s*Z.n*this.d;return(0<r)-(r<0)},simplify:function(e){if(isNaN(this.n)||isNaN(this.d))return this;e=e||.001;for(var t=this.abs(),r=t.toContinued(),n=1;n<r.length;n++){for(var u=De(r[n-1],1),i=n-2;i>=0;i--)u=u.inverse().add(r[i]);if(Math.abs(u.sub(t).valueOf())<e)return u.mul(this.s)}return this},divisible:function(e,t){return qe(e,t),!(!(Z.n*this.d)||this.n*Z.d%(Z.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(e){var t,r="",n=this.n,u=this.d;return this.s<0&&(r+="-"),u===1?r+=n:(e&&(t=Math.floor(n/u))>0&&(r+=t,r+=" ",n%=u),r+=n,r+="/",r+=u),r},toLatex:function(e){var t,r="",n=this.n,u=this.d;return this.s<0&&(r+="-"),u===1?r+=n:(e&&(t=Math.floor(n/u))>0&&(r+=t,n%=u),r+="\\frac{",r+=n,r+="}{",r+=u,r+="}"),r},toContinued:function(){var e,t=this.n,r=this.d,n=[];if(isNaN(t)||isNaN(r))return n;do n.push(Math.floor(t/r)),e=t%r,t=r,r=e;while(t!==1);return n},toString:function(e){var t=this.n,r=this.d;if(isNaN(t)||isNaN(r))return"NaN";e=e||15;var n=vo(t,r),u=mo(t,r,n),i=this.s<0?"-":"";if(i+=t/r|0,t%=r,t*=10,t&&(i+="."),n){for(var o=u;o--;)i+=t/r|0,t%=r,t*=10;i+="(";for(var o=n;o--;)i+=t/r|0,t%=r,t*=10;i+=")"}else for(var o=e;t&&o--;)i+=t/r|0,t%=r,t*=10;return i}};var Fo="Fraction",wo=[],Eo=k(Fo,wo,()=>(Object.defineProperty(Te,"name",{value:"Fraction"}),Te.prototype.constructor=Te,Te.prototype.type="Fraction",Te.prototype.isFraction=!0,Te.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Te.fromJSON=function(e){return new Te(e)},Te),{isClass:!0}),Ao="Matrix",Co=[],yo=k(Ao,Co,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0});function Kt(e,t,r){var n=e.constructor,u=new n(2),i="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!Be(r))throw new Error("size must be an integer");if(e.greaterThan(u.pow(r-1).sub(1))||e.lessThan(u.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(u.pow(r))),i="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(i);case 8:return"".concat(e.toOctal()).concat(i);case 16:return"".concat(e.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Bo(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var{notation:r,precision:n,wordSize:u}=jr(t);switch(r){case"fixed":return bo(e,n);case"exponential":return br(e,n);case"engineering":return No(e,n);case"bin":return Kt(e,2,u);case"oct":return Kt(e,8,u);case"hex":return Kt(e,16,u);case"auto":{var i=_r(t==null?void 0:t.lowerExp,-3),o=_r(t==null?void 0:t.upperExp,5);if(e.isZero())return"0";var s,l=e.toSignificantDigits(n),h=l.e;return h>=i&&h<o?s=l.toFixed():s=br(e,n),s.replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],c=arguments[4];return a!=="."?a+c:c})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function No(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,u=e.mul(Math.pow(10,-n)),i=u.toPrecision(t);if(i.includes("e")){var o=e.constructor;i=new o(i).toFixed()}return i+"e"+(r>=0?"+":"")+n.toString()}function br(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function bo(e,t){return e.toFixed(t)}function _r(e,t){return le(e)?e:Ae(e)?e.toNumber():t}function Ee(e,t){var r=_o(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function _o(e,t){if(typeof e=="number")return Qt(e,t);if(Ae(e))return Bo(e,t);if(Mo(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return dn(e,t);if(Ye(e))return Mr(e);if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>Mr(n)+": "+Ee(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function Mr(e){for(var t=String(e),r="",n=0;n<t.length;){var u=t.charAt(n);r+=u in Sr?Sr[u]:u,n++}return'"'+r+'"'}var Sr={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function dn(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,u=0;u<n;u++)u!==0&&(r+=", "),r+=dn(e[u],t);return r+="]",r}else return Ee(e,t)}function Mo(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function he(e,t,r){if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}he.prototype=new RangeError;he.prototype.constructor=RangeError;he.prototype.name="DimensionError";he.prototype.isDimensionError=!0;function mt(e,t,r){if(!(this instanceof mt))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}mt.prototype=new RangeError;mt.prototype.constructor=RangeError;mt.prototype.name="IndexError";mt.prototype.isIndexError=!0;function Ve(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function vn(e,t,r){var n,u=e.length;if(u!==t[r])throw new he(u,t[r]);if(r<t.length-1){var i=r+1;for(n=0;n<u;n++){var o=e[n];if(!Array.isArray(o))throw new he(t.length-1,t.length,"<");vn(e[n],t,i)}}else for(n=0;n<u;n++)if(Array.isArray(e[n]))throw new he(t.length+1,t.length,">")}function Tr(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new he(e.length,0)}else vn(e,t,0)}function de(e,t){if(e!==void 0){if(!le(e)||!Be(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new mt(e,t)}}function nr(e,t,r){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(u){if(!le(u)||!Be(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(t)+")")}),(le(e)||Ae(e))&&(e=[e]);var n=r!==void 0?r:0;return ur(e,t,0,n),e}function ur(e,t,r,n){var u,i,o=e.length,s=t[r],l=Math.min(o,s);if(e.length=s,r<t.length-1){var h=r+1;for(u=0;u<l;u++)i=e[u],Array.isArray(i)||(i=[i],e[u]=i),ur(i,t,h,n);for(u=l;u<s;u++)i=[],e[u]=i,ur(i,t,h,n)}else{for(u=0;u<l;u++)for(;Array.isArray(e[u]);)e[u]=e[u][0];for(u=l;u<s;u++)e[u]=n}}function mn(e,t){var r=To(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new he(0,n,"!=");t=fr(t,n);var u=gn(t);if(n!==u)throw new he(u,n,"!=");try{return So(r,t)}catch(i){throw i instanceof he?new he(u,n,"!="):i}}function fr(e,t){var r=gn(e),n=e.slice(),u=-1,i=e.indexOf(u),o=e.indexOf(u,i+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var s=i>=0,l=t%r===0;if(s)if(l)n[i]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function gn(e){return e.reduce((t,r)=>t*r,1)}function So(e,t){for(var r=e,n,u=t.length-1;u>0;u--){var i=t[u];n=[];for(var o=r.length/i,s=0;s<o;s++)n.push(r.slice(s*i,(s+1)*i));r=n}return r}function Fn(e,t,r,n){var u=n||Ve(e);if(r)for(var i=0;i<r;i++)e=[e],u.unshift(1);for(e=wn(e,t,0);u.length<t;)u.push(1);return e}function wn(e,t,r){var n,u;if(Array.isArray(e)){var i=r+1;for(n=0,u=e.length;n<u;n++)e[n]=wn(e[n],t,i)}else for(var o=r;o<t;o++)e=[e];return e}function To(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function qt(e,t){for(var r,n=0,u=0;u<e.length;u++){var i=e[u],o=Array.isArray(i);if(u===0&&o&&(n=i.length),o&&i.length!==n)return;var s=o?qt(i,t):t(i);if(r===void 0)r=s;else if(r!==s)return"mixed"}return r}function En(e,t,r,n){if(n<r){if(e.length!==t.length)throw new he(e.length,t.length);for(var u=[],i=0;i<e.length;i++)u[i]=En(e[i],t[i],r,n+1);return u}else return e.concat(t)}function xo(){var e=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(e.length===1)return e[0];if(e.length>1)return e.slice(1).reduce(function(r,n){return En(r,n,t,0)},e[0]);throw new Error("Wrong number of arguments in function concat")}function Oo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.map(D=>D.length),u=Math.max(...n),i=new Array(u).fill(null),o=0;o<t.length;o++)for(var s=t[o],l=n[o],h=0;h<l;h++){var a=u-l+h;s[h]>i[a]&&(i[a]=s[h])}for(var c=0;c<t.length;c++)An(t[c],i);return i}function An(e,t){for(var r=t.length,n=e.length,u=0;u<n;u++){var i=r-n+u;if(e[u]<t[i]&&e[u]>1||e[u]>t[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(e,") not possible to broadcast dimension ").concat(n," with size ").concat(e[u]," to size ").concat(t[i]))}}function xr(e,t){var r=Ve(e);if(pt(r,t))return e;An(r,t);var n=Oo(r,t),u=n.length,i=[...Array(u-r.length).fill(1),...r],o=zo(e);r.length<u&&(o=mn(o,i),r=Ve(o));for(var s=0;s<u;s++)r[s]<n[s]&&(o=Io(o,n[s],s),r=Ve(o));return o}function Io(e,t,r){return xo(...Array(t).fill(e),r)}function zo(e){return xt([],e)}function Cn(e){return Object.keys(e.signatures||{}).reduce(function(t,r){var n=(r.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}var Po="DenseMatrix",Ro=["Matrix"],qo=k(Po,Ro,e=>{var{Matrix:t}=e;function r(a,c){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(c&&!Ye(c))throw new Error("Invalid datatype: "+c);if(Ne(a))a.type==="DenseMatrix"?(this._data=me(a._data),this._size=me(a._size),this._datatype=c||a._datatype):(this._data=a.toArray(),this._size=a.size(),this._datatype=c||a._datatype);else if(a&&pe(a.data)&&pe(a.size))this._data=a.data,this._size=a.size,Tr(this._data,this._size),this._datatype=c||a.datatype;else if(pe(a))this._data=h(a),this._size=Ve(this._data),Tr(this._data,this._size),this._datatype=c;else{if(a)throw new TypeError("Unsupported type of data ("+ht(a)+")");this._data=[],this._size=[0],this._datatype=c}}r.prototype=new t,r.prototype.createDenseMatrix=function(a,c){return new r(a,c)},Object.defineProperty(r,"name",{value:"DenseMatrix"}),r.prototype.constructor=r,r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return qt(this._data,ht)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(a,c){return new r(a,c)},r.prototype.subset=function(a,c,D){switch(arguments.length){case 1:return n(this,a);case 2:case 3:return i(this,a,c,D);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(a){if(!pe(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new he(a.length,this._size.length);for(var c=0;c<a.length;c++)de(a[c],this._size[c]);for(var D=this._data,F=0,A=a.length;F<A;F++){var f=a[F];de(f,D.length),D=D[f]}return D},r.prototype.set=function(a,c,D){if(!pe(a))throw new TypeError("Array expected");if(a.length<this._size.length)throw new he(a.length,this._size.length,"<");var F,A,f,v=a.map(function(B){return B+1});l(this,v,D);var w=this._data;for(F=0,A=a.length-1;F<A;F++)f=a[F],de(f,w.length),w=w[f];return f=a[a.length-1],de(f,w.length),w[f]=c,this};function n(a,c){if(!ir(c))throw new TypeError("Invalid index");var D=c.isScalar();if(D)return a.get(c.min());var F=c.size();if(F.length!==a._size.length)throw new he(F.length,a._size.length);for(var A=c.min(),f=c.max(),v=0,w=a._size.length;v<w;v++)de(A[v],a._size[v]),de(f[v],a._size[v]);return new r(u(a._data,c,F.length,0),a._datatype)}function u(a,c,D,F){var A=F===D-1,f=c.dimension(F);return A?f.map(function(v){return de(v,a.length),a[v]}).valueOf():f.map(function(v){de(v,a.length);var w=a[v];return u(w,c,D,F+1)}).valueOf()}function i(a,c,D,F){if(!c||c.isIndex!==!0)throw new TypeError("Invalid index");var A=c.size(),f=c.isScalar(),v;if(Ne(D)?(v=D.size(),D=D.valueOf()):v=Ve(D),f){if(v.length!==0)throw new TypeError("Scalar expected");a.set(c.min(),D,F)}else{if(!pt(v,A))try{v.length===0?D=xr([D],A):D=xr(D,A),v=Ve(D)}catch{}if(A.length<a._size.length)throw new he(A.length,a._size.length,"<");if(v.length<A.length){for(var w=0,B=0;A[w]===1&&v[w]===1;)w++;for(;A[w]===1;)B++,w++;D=Fn(D,A.length,B,v)}if(!pt(A,v))throw new he(A,v,">");var g=c.max().map(function(d){return d+1});l(a,g,F);var N=A.length,m=0;o(a._data,c,D,N,m)}return a}function o(a,c,D,F,A){var f=A===F-1,v=c.dimension(A);f?v.forEach(function(w,B){de(w),a[w]=D[B[0]]}):v.forEach(function(w,B){de(w),o(a[w],c,D[B[0]],F,A+1)})}r.prototype.resize=function(a,c,D){if(!Ot(a))throw new TypeError("Array or Matrix expected");var F=a.valueOf().map(f=>Array.isArray(f)&&f.length===1?f[0]:f),A=D?this.clone():this;return s(A,F,c)};function s(a,c,D){if(c.length===0){for(var F=a._data;pe(F);)F=F[0];return F}return a._size=c.slice(0),a._data=nr(a._data,a._size,D),a}r.prototype.reshape=function(a,c){var D=c?this.clone():this;D._data=mn(D._data,a);var F=D._size.reduce((A,f)=>A*f);return D._size=fr(a,F),D};function l(a,c,D){for(var F=a._size.slice(0),A=!1;F.length<c.length;)F.push(0),A=!0;for(var f=0,v=c.length;f<v;f++)c[f]>F[f]&&(F[f]=c[f],A=!0);A&&s(a,F,D)}r.prototype.clone=function(){var a=new r({data:me(this._data),size:me(this._size),datatype:this._datatype});return a},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(a){var c=this,D=Cn(a),F=function v(w,B){return pe(w)?w.map(function(g,N){return v(g,B.concat(N))}):D===1?a(w):D===2?a(w,B):a(w,B,c)},A=F(this._data,[]),f=this._datatype!==void 0?qt(A,ht):void 0;return new r(A,f)},r.prototype.forEach=function(a){var c=this,D=function F(A,f){pe(A)?A.forEach(function(v,w){F(v,f.concat(w))}):a(A,f,c)};D(this._data,[])},r.prototype[Symbol.iterator]=function*(){var a=function*c(D,F){if(pe(D))for(var A=0;A<D.length;A++)yield*c(D[A],F.concat(A));else yield{value:D,index:F}};yield*a(this._data,[])},r.prototype.rows=function(){var a=[],c=this.size();if(c.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var D=this._data;for(var F of D)a.push(new r([F],this._datatype));return a},r.prototype.columns=function(){var a=this,c=[],D=this.size();if(D.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var F=this._data,A=function(w){var B=F.map(g=>[g[w]]);c.push(new r(B,a._datatype))},f=0;f<D[1];f++)A(f);return c},r.prototype.toArray=function(){return me(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(a){return Ee(this._data,a)},r.prototype.toString=function(){return Ee(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(a){if(a){if(Ae(a)&&(a=a.toNumber()),!le(a)||!Be(a))throw new TypeError("The parameter k must be an integer number")}else a=0;for(var c=a>0?a:0,D=a<0?-a:0,F=this._size[0],A=this._size[1],f=Math.min(F-D,A-c),v=[],w=0;w<f;w++)v[w]=this._data[w+D][w+c];return new r({data:v,size:[f],datatype:this._datatype})},r.diagonal=function(a,c,D,F){if(!pe(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(C){if(Ae(C)&&(C=C.toNumber()),!le(C)||!Be(C)||C<1)throw new Error("Size values must be positive integers");return C}),D){if(Ae(D)&&(D=D.toNumber()),!le(D)||!Be(D))throw new TypeError("The parameter k must be an integer number")}else D=0;var A=D>0?D:0,f=D<0?-D:0,v=a[0],w=a[1],B=Math.min(v-f,w-A),g;if(pe(c)){if(c.length!==B)throw new Error("Invalid value array length");g=function(_){return c[_]}}else if(Ne(c)){var N=c.size();if(N.length!==1||N[0]!==B)throw new Error("Invalid matrix length");g=function(_){return c.get([_])}}else g=function(){return c};F||(F=Ae(g(0))?g(0).mul(0):0);var m=[];if(a.length>0){m=nr(m,a,F);for(var d=0;d<B;d++)m[d+f][d+A]=g(d)}return new r({data:m,size:[v,w]})},r.fromJSON=function(a){return new r(a)},r.prototype.swapRows=function(a,c){if(!le(a)||!Be(a)||!le(c)||!Be(c))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return de(a,this._size[0]),de(c,this._size[0]),r._swapRows(a,c,this._data),this},r._swapRows=function(a,c,D){var F=D[a];D[a]=D[c],D[c]=F};function h(a){return Ne(a)?h(a.valueOf()):pe(a)?a.map(h):a}return r},{isClass:!0});function ut(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return ut(n,t)}):t(e)}var yn="number",cr="number, number";function Bn(e){return Math.abs(e)}Bn.signature=yn;function Nn(e,t){return e+t}Nn.signature=cr;function bn(e,t){return e-t}bn.signature=cr;function _n(e,t){return e*t}_n.signature=cr;function Mn(e){return-e}Mn.signature=yn;function $o(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(r<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return e.isNaN()||t.isNaN()?!1:!e.isFinite()||!t.isFinite()?e.eq(t):e.eq(t)?!0:e.minus(t).abs().lte(e.constructor.max(e.constructor.max(e.abs(),t.abs()).mul(r),n))}var Or="isZero",Uo=["typed","equalScalar"],Lo=k(Or,Uo,e=>{var{typed:t,equalScalar:r}=e;return t(Or,{"number | BigNumber | Complex | Fraction":n=>r(n,0),bigint:n=>n===0n,Unit:t.referToSelf(n=>u=>t.find(n,u.valueType())(u.value)),"Array | Matrix":t.referToSelf(n=>u=>ut(u,n))})});function Zo(e,t,r,n){return It(e.re,t.re,r,n)&&It(e.im,t.im,r,n)}var Vo=k("compareUnits",["typed"],e=>{var{typed:t}=e;return{"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return t.find(r,[n.valueType(),u.valueType()])(n.value,u.value)})}}),$t="equalScalar",Ho=["typed","config"],Wo=k($t,Ho,e=>{var{typed:t,config:r}=e,n=Vo({typed:t});return t($t,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return It(i,o,r.relTol,r.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||$o(i,o,r.relTol,r.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return Zo(i,o,r.relTol,r.absTol)}},n)});k($t,["typed","config"],e=>{var{typed:t,config:r}=e;return t($t,{"number, number":function(u,i){return It(u,i,r.relTol,r.absTol)}})});var Jo="SparseMatrix",Yo=["typed","equalScalar","Matrix"],Xo=k(Jo,Yo,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function u(f,v){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!Ye(v))throw new Error("Invalid datatype: "+v);if(Ne(f))i(this,f,v);else if(f&&pe(f.index)&&pe(f.ptr)&&pe(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=v||f.datatype;else if(pe(f))o(this,f,v);else{if(f)throw new TypeError("Unsupported type of data ("+ht(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(f,v,w){v.type==="SparseMatrix"?(f._values=v._values?me(v._values):void 0,f._index=me(v._index),f._ptr=me(v._ptr),f._size=me(v._size),f._datatype=w||v._datatype):o(f,v.valueOf(),w||v._datatype)}function o(f,v,w){f._values=[],f._index=[],f._ptr=[],f._datatype=w;var B=v.length,g=0,N=r,m=0;if(Ye(w)&&(N=t.find(r,[w,w])||r,m=t.convert(0,w)),B>0){var d=0;do{f._ptr.push(f._index.length);for(var C=0;C<B;C++){var _=v[C];if(pe(_)){if(d===0&&g<_.length&&(g=_.length),d<_.length){var b=_[d];N(b,m)||(f._values.push(b),f._index.push(C))}}else d===0&&g<1&&(g=1),N(_,m)||(f._values.push(_),f._index.push(C))}d++}while(d<g)}f._ptr.push(f._index.length),f._size=[B,g]}u.prototype=new n,u.prototype.createSparseMatrix=function(f,v){return new u(f,v)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return qt(this._values,ht)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(f,v){return new u(f,v)},u.prototype.density=function(){var f=this._size[0],v=this._size[1];return f!==0&&v!==0?this._index.length/(f*v):0},u.prototype.subset=function(f,v,w){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,f);case 2:case 3:return l(this,f,v,w);default:throw new SyntaxError("Wrong number of arguments")}};function s(f,v){if(!ir(v))throw new TypeError("Invalid index");var w=v.isScalar();if(w)return f.get(v.min());var B=v.size();if(B.length!==f._size.length)throw new he(B.length,f._size.length);var g,N,m,d,C=v.min(),_=v.max();for(g=0,N=f._size.length;g<N;g++)de(C[g],f._size[g]),de(_[g],f._size[g]);var b=f._values,I=f._index,z=f._ptr,$=v.dimension(0),W=v.dimension(1),J=[],V=[];$.forEach(function(X,j){V[X]=j[0],J[X]=!0});var q=b?[]:void 0,K=[],Y=[];return W.forEach(function(X){for(Y.push(K.length),m=z[X],d=z[X+1];m<d;m++)g=I[m],J[g]===!0&&(K.push(V[g]),q&&q.push(b[m]))}),Y.push(K.length),new u({values:q,index:K,ptr:Y,size:B,datatype:f._datatype})}function l(f,v,w,B){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var g=v.size(),N=v.isScalar(),m;if(Ne(w)?(m=w.size(),w=w.toArray()):m=Ve(w),N){if(m.length!==0)throw new TypeError("Scalar expected");f.set(v.min(),w,B)}else{if(g.length!==1&&g.length!==2)throw new he(g.length,f._size.length,"<");if(m.length<g.length){for(var d=0,C=0;g[d]===1&&m[d]===1;)d++;for(;g[d]===1;)C++,d++;w=Fn(w,g.length,C,m)}if(!pt(g,m))throw new he(g,m,">");if(g.length===1){var _=v.dimension(0);_.forEach(function(z,$){de(z),f.set([z,0],w[$[0]],B)})}else{var b=v.dimension(0),I=v.dimension(1);b.forEach(function(z,$){de(z),I.forEach(function(W,J){de(W),f.set([z,W],w[$[0]][J[0]],B)})})}}return f}u.prototype.get=function(f){if(!pe(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new he(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=f[0],w=f[1];de(v,this._size[0]),de(w,this._size[1]);var B=h(v,this._ptr[w],this._ptr[w+1],this._index);return B<this._ptr[w+1]&&this._index[B]===v?this._values[B]:0},u.prototype.set=function(f,v,w){if(!pe(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new he(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var B=f[0],g=f[1],N=this._size[0],m=this._size[1],d=r,C=0;Ye(this._datatype)&&(d=t.find(r,[this._datatype,this._datatype])||r,C=t.convert(0,this._datatype)),(B>N-1||g>m-1)&&(D(this,Math.max(B+1,N),Math.max(g+1,m),w),N=this._size[0],m=this._size[1]),de(B,N),de(g,m);var _=h(B,this._ptr[g],this._ptr[g+1],this._index);return _<this._ptr[g+1]&&this._index[_]===B?d(v,C)?a(_,g,this._values,this._index,this._ptr):this._values[_]=v:d(v,C)||c(_,B,g,v,this._values,this._index,this._ptr),this};function h(f,v,w,B){if(w-v===0)return w;for(var g=v;g<w;g++)if(B[g]===f)return g;return v}function a(f,v,w,B,g){w.splice(f,1),B.splice(f,1);for(var N=v+1;N<g.length;N++)g[N]--}function c(f,v,w,B,g,N,m){g.splice(f,0,B),N.splice(f,0,v);for(var d=w+1;d<m.length;d++)m[d]++}u.prototype.resize=function(f,v,w){if(!Ot(f))throw new TypeError("Array or Matrix expected");var B=f.valueOf().map(N=>Array.isArray(N)&&N.length===1?N[0]:N);if(B.length!==2)throw new Error("Only two dimensions matrix are supported");B.forEach(function(N){if(!le(N)||!Be(N)||N<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ee(B)+")")});var g=w?this.clone():this;return D(g,B[0],B[1],v)};function D(f,v,w,B){var g=B||0,N=r,m=0;Ye(f._datatype)&&(N=t.find(r,[f._datatype,f._datatype])||r,m=t.convert(0,f._datatype),g=t.convert(g,f._datatype));var d=!N(g,m),C=f._size[0],_=f._size[1],b,I,z;if(w>_){for(I=_;I<w;I++)if(f._ptr[I]=f._values.length,d)for(b=0;b<C;b++)f._values.push(g),f._index.push(b);f._ptr[w]=f._values.length}else w<_&&(f._ptr.splice(w+1,_-w),f._values.splice(f._ptr[w],f._values.length),f._index.splice(f._ptr[w],f._index.length));if(_=w,v>C){if(d){var $=0;for(I=0;I<_;I++){f._ptr[I]=f._ptr[I]+$,z=f._ptr[I+1]+$;var W=0;for(b=C;b<v;b++,W++)f._values.splice(z+W,0,g),f._index.splice(z+W,0,b),$++}f._ptr[_]=f._values.length}}else if(v<C){var J=0;for(I=0;I<_;I++){f._ptr[I]=f._ptr[I]-J;var V=f._ptr[I],q=f._ptr[I+1]-J;for(z=V;z<q;z++)b=f._index[z],b>v-1&&(f._values.splice(z,1),f._index.splice(z,1),J++)}f._ptr[I]=f._values.length}return f._size[0]=v,f._size[1]=w,f}u.prototype.reshape=function(f,v){if(!pe(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(X){if(!le(X)||!Be(X)||X<=-2||X===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ee(f)+")")});var w=this._size[0]*this._size[1];f=fr(f,w);var B=f[0]*f[1];if(w!==B)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var g=v?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return g;for(var N=[],m=0;m<g._ptr.length;m++)for(var d=0;d<g._ptr[m+1]-g._ptr[m];d++)N.push(m);for(var C=g._values.slice(),_=g._index.slice(),b=0;b<g._index.length;b++){var I=_[b],z=N[b],$=I*g._size[1]+z;N[b]=$%f[1],_[b]=Math.floor($/f[1])}g._values.length=0,g._index.length=0,g._ptr.length=f[1]+1,g._size=f.slice();for(var W=0;W<g._ptr.length;W++)g._ptr[W]=0;for(var J=0;J<C.length;J++){var V=_[J],q=N[J],K=C[J],Y=h(V,g._ptr[q],g._ptr[q+1],g._index);c(Y,V,q,K,g._values,g._index,g._ptr)}return g},u.prototype.clone=function(){var f=new u({values:this._values?me(this._values):void 0,index:me(this._index),ptr:me(this._ptr),size:me(this._size),datatype:this._datatype});return f},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(f,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var w=this,B=this._size[0],g=this._size[1],N=Cn(f),m=function(C,_,b){return N===1?f(C):N===2?f(C,[_,b]):f(C,[_,b],w)};return F(this,0,B-1,0,g-1,m,v)};function F(f,v,w,B,g,N,m){var d=[],C=[],_=[],b=r,I=0;Ye(f._datatype)&&(b=t.find(r,[f._datatype,f._datatype])||r,I=t.convert(0,f._datatype));for(var z=function(ee,Fe,ve){ee=N(ee,Fe,ve),b(ee,I)||(d.push(ee),C.push(Fe))},$=B;$<=g;$++){_.push(d.length);var W=f._ptr[$],J=f._ptr[$+1];if(m)for(var V=W;V<J;V++){var q=f._index[V];q>=v&&q<=w&&z(f._values[V],q-v,$-B)}else{for(var K={},Y=W;Y<J;Y++){var X=f._index[Y];K[X]=f._values[Y]}for(var j=v;j<=w;j++){var ne=j in K?K[j]:0;z(ne,j-v,$-B)}}}return _.push(d.length),new u({values:d,index:C,ptr:_,size:[w-v+1,g-B+1]})}u.prototype.forEach=function(f,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var w=this,B=this._size[0],g=this._size[1],N=0;N<g;N++){var m=this._ptr[N],d=this._ptr[N+1];if(v)for(var C=m;C<d;C++){var _=this._index[C];f(this._values[C],[_,N],w)}else{for(var b={},I=m;I<d;I++){var z=this._index[I];b[z]=this._values[I]}for(var $=0;$<B;$++){var W=$ in b?b[$]:0;f(W,[$,N],w)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],v=0;v<f;v++)for(var w=this._ptr[v],B=this._ptr[v+1],g=w;g<B;g++){var N=this._index[g];yield{value:this._values[g],index:[N,v]}}},u.prototype.toArray=function(){return A(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return A(this._values,this._index,this._ptr,this._size,!1)};function A(f,v,w,B,g){var N=B[0],m=B[1],d=[],C,_;for(C=0;C<N;C++)for(d[C]=[],_=0;_<m;_++)d[C][_]=0;for(_=0;_<m;_++)for(var b=w[_],I=w[_+1],z=b;z<I;z++)C=v[z],d[C][_]=f?g?me(f[z]):f[z]:1;return d}return u.prototype.format=function(f){for(var v=this._size[0],w=this._size[1],B=this.density(),g="Sparse Matrix ["+Ee(v,f)+" x "+Ee(w,f)+"] density: "+Ee(B,f)+`
`,N=0;N<w;N++)for(var m=this._ptr[N],d=this._ptr[N+1],C=m;C<d;C++){var _=this._index[C];g+=`
    (`+Ee(_,f)+", "+Ee(N,f)+") ==> "+(this._values?Ee(this._values[C],f):"X")}return g},u.prototype.toString=function(){return Ee(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(f){if(f){if(Ae(f)&&(f=f.toNumber()),!le(f)||!Be(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,w=f<0?-f:0,B=this._size[0],g=this._size[1],N=Math.min(B-w,g-v),m=[],d=[],C=[];C[0]=0;for(var _=v;_<g&&m.length<N;_++)for(var b=this._ptr[_],I=this._ptr[_+1],z=b;z<I;z++){var $=this._index[z];if($===_-v+w){m.push(this._values[z]),d[m.length-1]=$-w;break}}return C.push(m.length),new u({values:m,index:d,ptr:C,size:[N,1]})},u.fromJSON=function(f){return new u(f)},u.diagonal=function(f,v,w,B,g){if(!pe(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(X){if(Ae(X)&&(X=X.toNumber()),!le(X)||!Be(X)||X<1)throw new Error("Size values must be positive integers");return X}),w){if(Ae(w)&&(w=w.toNumber()),!le(w)||!Be(w))throw new TypeError("The parameter k must be an integer number")}else w=0;var N=r,m=0;Ye(g)&&(N=t.find(r,[g,g])||r,m=t.convert(0,g));var d=w>0?w:0,C=w<0?-w:0,_=f[0],b=f[1],I=Math.min(_-C,b-d),z;if(pe(v)){if(v.length!==I)throw new Error("Invalid value array length");z=function(j){return v[j]}}else if(Ne(v)){var $=v.size();if($.length!==1||$[0]!==I)throw new Error("Invalid matrix length");z=function(j){return v.get([j])}}else z=function(){return v};for(var W=[],J=[],V=[],q=0;q<b;q++){V.push(W.length);var K=q-d;if(K>=0&&K<I){var Y=z(K);N(Y,m)||(J.push(K+C),W.push(Y))}}return V.push(W.length),new u({values:W,index:J,ptr:V,size:[_,b]})},u.prototype.swapRows=function(f,v){if(!le(f)||!Be(f)||!le(v)||!Be(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return de(f,this._size[0]),de(v,this._size[0]),u._swapRows(f,v,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(f,v,w,B,g){for(var N=B[f],m=B[f+1],d=N;d<m;d++)g(w[d],v[d])},u._swapRows=function(f,v,w,B,g,N){for(var m=0;m<w;m++){var d=N[m],C=N[m+1],_=h(f,d,C,g),b=h(v,d,C,g);if(_<C&&b<C&&g[_]===f&&g[b]===v){if(B){var I=B[_];B[_]=B[b],B[b]=I}continue}if(_<C&&g[_]===f&&(b>=C||g[b]!==v)){var z=B?B[_]:void 0;g.splice(b,0,v),B&&B.splice(b,0,z),g.splice(b<=_?_+1:_,1),B&&B.splice(b<=_?_+1:_,1);continue}if(b<C&&g[b]===v&&(_>=C||g[_]!==f)){var $=B?B[b]:void 0;g.splice(_,0,f),B&&B.splice(_,0,$),g.splice(_<=b?b+1:b,1),B&&B.splice(_<=b?b+1:b,1)}}},u},{isClass:!0}),Go="number",Ko=["typed"];function Qo(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],u=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:u}}else return null}function jo(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var u=parseInt(e.fractionalPart[n],e.radix);r+=u/Math.pow(e.radix,n+1)}var i=t+r;if(isNaN(i))throw new SyntaxError('String "'+e.input+'" is not a valid number');return i}var ko=k(Go,Ko,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=Qo(u);if(i)return jo(i);var o=0,s=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(o=Number(s[2]),u=s[1]);var l=Number(u);if(isNaN(l))throw new SyntaxError('String "'+u+'" is not a valid number');if(s){if(l>2**o-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));l>=2**(o-1)&&(l=l-2**o)}return l},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":t.referToSelf(n=>u=>ut(u,n))});return r.fromJSON=function(n){return parseFloat(n.value)},r}),ea="bignumber",ta=["typed","BigNumber"],ra=k(ea,ta,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(u){return new r(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var o=i[2],s=r(i[1]),l=new r(2).pow(Number(o));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var h=new r(2).pow(Number(o)-1);return s.gte(h)?s.sub(l):s}return new r(u)},BigNumber:function(u){return u},bigint:function(u){return new r(u.toString())},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new r(u.n).div(u.d).times(u.s)},null:function(u){return new r(0)},"Array | Matrix":t.referToSelf(n=>u=>ut(u,n))})}),na="fraction",ua=["typed","Fraction"],ia=k(na,ua,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new r(u)},string:function(u){return new r(u)},"number, number":function(u,i){return new r(u,i)},null:function(u){return new r(0)},BigNumber:function(u){return new r(u.toString())},bigint:function(u){return new r(u.toString())},Fraction:function(u){return u},Unit:t.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new r(u)},"Array | Matrix":t.referToSelf(n=>u=>ut(u,n))})}),Ir="matrix",oa=["typed","Matrix","DenseMatrix","SparseMatrix"],aa=k(Ir,oa,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:u}=e;return t(Ir,{"":function(){return i([])},string:function(s){return i([],s)},"string, string":function(s,l){return i([],s,l)},Array:function(s){return i(s)},Matrix:function(s){return i(s,s.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(o,s,l){if(s==="dense"||s==="default"||s===void 0)return new n(o,l);if(s==="sparse")return new u(o,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),zr="unaryMinus",sa=["typed"],fa=k(zr,sa,e=>{var{typed:t}=e;return t(zr,{number:Mn,"Complex | BigNumber | Fraction":r=>r.neg(),bigint:r=>-r,Unit:t.referToSelf(r=>n=>{var u=n.clone();return u.value=t.find(r,u.valueType())(n.value),u}),"Array | Matrix":t.referToSelf(r=>n=>ut(n,r))})}),Pr="abs",ca=["typed"],la=k(Pr,ca,e=>{var{typed:t}=e;return t(Pr,{number:Bn,"Complex | BigNumber | Fraction | Unit":r=>r.abs(),bigint:r=>r<0n?-r:r,"Array | Matrix":t.referToSelf(r=>n=>ut(n,r))})}),Rr="addScalar",ha=["typed"],Da=k(Rr,ha,e=>{var{typed:t}=e;return t(Rr,{"number, number":Nn,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),qr="subtractScalar",pa=["typed"],da=k(qr,pa,e=>{var{typed:t}=e;return t(qr,{"number, number":bn,"Complex, Complex":function(n,u){return n.sub(u)},"BigNumber, BigNumber":function(n,u){return n.minus(u)},"bigint, bigint":function(n,u){return n-u},"Fraction, Fraction":function(n,u){return n.sub(u)},"Unit, Unit":t.referToSelf(r=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=t.find(r,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),va="matAlgo11xS0s",ma=["typed","equalScalar"],Sn=k(va,ma,e=>{var{typed:t,equalScalar:r}=e;return function(u,i,o,s){var l=u._values,h=u._index,a=u._ptr,c=u._size,D=u._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var F=c[0],A=c[1],f,v=r,w=0,B=o;typeof D=="string"&&(f=D,v=t.find(r,[f,f]),w=t.convert(0,f),i=t.convert(i,f),B=t.find(o,[f,f]));for(var g=[],N=[],m=[],d=0;d<A;d++){m[d]=N.length;for(var C=a[d],_=a[d+1],b=C;b<_;b++){var I=h[b],z=s?B(i,l[b]):B(l[b],i);v(z,w)||(N.push(I),g.push(z))}}return m[A]=N.length,u.createSparseMatrix({values:g,index:N,ptr:m,size:[F,A],datatype:f})}}),ga="matAlgo14xDs",Fa=["typed"],Tn=k(ga,Fa,e=>{var{typed:t}=e;return function(u,i,o,s){var l=u._data,h=u._size,a=u._datatype,c,D=o;typeof a=="string"&&(c=a,i=t.convert(i,c),D=t.find(o,[c,c]));var F=h.length>0?r(D,0,h,h[0],l,i,s):[];return u.createDenseMatrix({data:F,size:me(h),datatype:c})};function r(n,u,i,o,s,l,h){var a=[];if(u===i.length-1)for(var c=0;c<o;c++)a[c]=h?n(l,s[c]):n(s[c],l);else for(var D=0;D<o;D++)a[D]=r(n,u+1,i,i[u+1],s[D],l,h);return a}}),wa="multiplyScalar",Ea=["typed"],Aa=k(wa,Ea,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":_n,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(r,n)=>n.multiply(r),"Unit, number | Fraction | BigNumber | Complex | Unit":(r,n)=>r.multiply(n)})}),$r="multiply",Ca=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ya=k($r,Ca,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:u,equalScalar:i,dot:o}=e,s=Sn({typed:t,equalScalar:i}),l=Tn({typed:t});function h(m,d){switch(m.length){case 1:switch(d.length){case 1:if(m[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(m[0]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+m[0]+") must match Matrix rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;case 2:switch(d.length){case 1:if(m[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+m[1]+") must match Vector length ("+d[0]+")");break;case 2:if(m[1]!==d[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+m[1]+") must match Matrix B rows ("+d[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+d.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+m.length+" dimensions)")}}function a(m,d,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return o(m,d)}function c(m,d){if(d.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return D(m,d)}function D(m,d){var C=m._data,_=m._size,b=m._datatype||m.getDataType(),I=d._data,z=d._size,$=d._datatype||d.getDataType(),W=_[0],J=z[1],V,q=n,K=u;b&&$&&b===$&&typeof b=="string"&&b!=="mixed"&&(V=b,q=t.find(n,[V,V]),K=t.find(u,[V,V]));for(var Y=[],X=0;X<J;X++){for(var j=K(C[0],I[0][X]),ne=1;ne<W;ne++)j=q(j,K(C[ne],I[ne][X]));Y[X]=j}return m.createDenseMatrix({data:Y,size:[J],datatype:b===m._datatype&&$===d._datatype?V:void 0})}var F=t("_multiplyMatrixVector",{"DenseMatrix, any":f,"SparseMatrix, any":B}),A=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":w,"SparseMatrix, DenseMatrix":g,"SparseMatrix, SparseMatrix":N});function f(m,d){var C=m._data,_=m._size,b=m._datatype||m.getDataType(),I=d._data,z=d._datatype||d.getDataType(),$=_[0],W=_[1],J,V=n,q=u;b&&z&&b===z&&typeof b=="string"&&b!=="mixed"&&(J=b,V=t.find(n,[J,J]),q=t.find(u,[J,J]));for(var K=[],Y=0;Y<$;Y++){for(var X=C[Y],j=q(X[0],I[0]),ne=1;ne<W;ne++)j=V(j,q(X[ne],I[ne]));K[Y]=j}return m.createDenseMatrix({data:K,size:[$],datatype:b===m._datatype&&z===d._datatype?J:void 0})}function v(m,d){var C=m._data,_=m._size,b=m._datatype||m.getDataType(),I=d._data,z=d._size,$=d._datatype||d.getDataType(),W=_[0],J=_[1],V=z[1],q,K=n,Y=u;b&&$&&b===$&&typeof b=="string"&&b!=="mixed"&&b!=="mixed"&&(q=b,K=t.find(n,[q,q]),Y=t.find(u,[q,q]));for(var X=[],j=0;j<W;j++){var ne=C[j];X[j]=[];for(var te=0;te<V;te++){for(var ee=Y(ne[0],I[0][te]),Fe=1;Fe<J;Fe++)ee=K(ee,Y(ne[Fe],I[Fe][te]));X[j][te]=ee}}return m.createDenseMatrix({data:X,size:[W,V],datatype:b===m._datatype&&$===d._datatype?q:void 0})}function w(m,d){var C=m._data,_=m._size,b=m._datatype||m.getDataType(),I=d._values,z=d._index,$=d._ptr,W=d._size,J=d._datatype||d._data===void 0?d._datatype:d.getDataType();if(!I)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var V=_[0],q=W[1],K,Y=n,X=u,j=i,ne=0;b&&J&&b===J&&typeof b=="string"&&b!=="mixed"&&(K=b,Y=t.find(n,[K,K]),X=t.find(u,[K,K]),j=t.find(i,[K,K]),ne=t.convert(0,K));for(var te=[],ee=[],Fe=[],ve=d.createSparseMatrix({values:te,index:ee,ptr:Fe,size:[V,q],datatype:b===m._datatype&&J===d._datatype?K:void 0}),Ce=0;Ce<q;Ce++){Fe[Ce]=ee.length;var ce=$[Ce],Oe=$[Ce+1];if(Oe>ce)for(var oe=0,ue=0;ue<V;ue++){for(var $e=ue+1,_e=void 0,ae=ce;ae<Oe;ae++){var be=z[ae];oe!==$e?(_e=X(C[ue][be],I[ae]),oe=$e):_e=Y(_e,X(C[ue][be],I[ae]))}oe===$e&&!j(_e,ne)&&(ee.push(ue),te.push(_e))}}return Fe[q]=ee.length,ve}function B(m,d){var C=m._values,_=m._index,b=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var z=d._data,$=d._datatype||d.getDataType(),W=m._size[0],J=d._size[0],V=[],q=[],K=[],Y,X=n,j=u,ne=i,te=0;I&&$&&I===$&&typeof I=="string"&&I!=="mixed"&&(Y=I,X=t.find(n,[Y,Y]),j=t.find(u,[Y,Y]),ne=t.find(i,[Y,Y]),te=t.convert(0,Y));var ee=[],Fe=[];K[0]=0;for(var ve=0;ve<J;ve++){var Ce=z[ve];if(!ne(Ce,te))for(var ce=b[ve],Oe=b[ve+1],oe=ce;oe<Oe;oe++){var ue=_[oe];Fe[ue]?ee[ue]=X(ee[ue],j(Ce,C[oe])):(Fe[ue]=!0,q.push(ue),ee[ue]=j(Ce,C[oe]))}}for(var $e=q.length,_e=0;_e<$e;_e++){var ae=q[_e];V[_e]=ee[ae]}return K[1]=q.length,m.createSparseMatrix({values:V,index:q,ptr:K,size:[W,1],datatype:I===m._datatype&&$===d._datatype?Y:void 0})}function g(m,d){var C=m._values,_=m._index,b=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType();if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var z=d._data,$=d._datatype||d.getDataType(),W=m._size[0],J=d._size[0],V=d._size[1],q,K=n,Y=u,X=i,j=0;I&&$&&I===$&&typeof I=="string"&&I!=="mixed"&&(q=I,K=t.find(n,[q,q]),Y=t.find(u,[q,q]),X=t.find(i,[q,q]),j=t.convert(0,q));for(var ne=[],te=[],ee=[],Fe=m.createSparseMatrix({values:ne,index:te,ptr:ee,size:[W,V],datatype:I===m._datatype&&$===d._datatype?q:void 0}),ve=[],Ce=[],ce=0;ce<V;ce++){ee[ce]=te.length;for(var Oe=ce+1,oe=0;oe<J;oe++){var ue=z[oe][ce];if(!X(ue,j))for(var $e=b[oe],_e=b[oe+1],ae=$e;ae<_e;ae++){var be=_[ae];Ce[be]!==Oe?(Ce[be]=Oe,te.push(be),ve[be]=Y(ue,C[ae])):ve[be]=K(ve[be],Y(ue,C[ae]))}}for(var Ue=ee[ce],Ke=te.length,Qe=Ue;Qe<Ke;Qe++){var ot=te[Qe];ne[Qe]=ve[ot]}}return ee[V]=te.length,Fe}function N(m,d){var C=m._values,_=m._index,b=m._ptr,I=m._datatype||m._data===void 0?m._datatype:m.getDataType(),z=d._values,$=d._index,W=d._ptr,J=d._datatype||d._data===void 0?d._datatype:d.getDataType(),V=m._size[0],q=d._size[1],K=C&&z,Y,X=n,j=u;I&&J&&I===J&&typeof I=="string"&&I!=="mixed"&&(Y=I,X=t.find(n,[Y,Y]),j=t.find(u,[Y,Y]));for(var ne=K?[]:void 0,te=[],ee=[],Fe=m.createSparseMatrix({values:ne,index:te,ptr:ee,size:[V,q],datatype:I===m._datatype&&J===d._datatype?Y:void 0}),ve=K?[]:void 0,Ce=[],ce,Oe,oe,ue,$e,_e,ae,be,Ue=0;Ue<q;Ue++){ee[Ue]=te.length;var Ke=Ue+1;for($e=W[Ue],_e=W[Ue+1],ue=$e;ue<_e;ue++)if(be=$[ue],K)for(Oe=b[be],oe=b[be+1],ce=Oe;ce<oe;ce++)ae=_[ce],Ce[ae]!==Ke?(Ce[ae]=Ke,te.push(ae),ve[ae]=j(z[ue],C[ce])):ve[ae]=X(ve[ae],j(z[ue],C[ce]));else for(Oe=b[be],oe=b[be+1],ce=Oe;ce<oe;ce++)ae=_[ce],Ce[ae]!==Ke&&(Ce[ae]=Ke,te.push(ae));if(K)for(var Qe=ee[Ue],ot=te.length,at=Qe;at<ot;at++){var Jt=te[at];ne[at]=ve[Jt]}}return ee[q]=te.length,Fe}return t($r,u,{"Array, Array":t.referTo("Matrix, Matrix",m=>(d,C)=>{h(Ve(d),Ve(C));var _=m(r(d),r(C));return Ne(_)?_.valueOf():_}),"Matrix, Matrix":function(d,C){var _=d.size(),b=C.size();return h(_,b),_.length===1?b.length===1?a(d,C,_[0]):c(d,C):b.length===1?F(d,C):A(d,C)},"Matrix, Array":t.referTo("Matrix,Matrix",m=>(d,C)=>m(d,r(C))),"Array, Matrix":t.referToSelf(m=>(d,C)=>m(r(d,C.storage()),C)),"SparseMatrix, any":function(d,C){return s(d,C,u,!1)},"DenseMatrix, any":function(d,C){return l(d,C,u,!1)},"any, SparseMatrix":function(d,C){return s(C,d,u,!0)},"any, DenseMatrix":function(d,C){return l(C,d,u,!0)},"Array, any":function(d,C){return l(r(d),C,u,!1).valueOf()},"any, Array":function(d,C){return l(r(C),d,u,!0).valueOf()},"any, any":u,"any, any, ...any":t.referToSelf(m=>(d,C,_)=>{for(var b=m(d,C),I=0;I<_.length;I++)b=m(b,_[I]);return b})})}),Ur="conj",Ba=["typed"],Na=k(Ur,Ba,e=>{var{typed:t}=e;return t(Ur,{"number | BigNumber | Fraction":r=>r,Complex:r=>r.conjugate(),"Array | Matrix":t.referToSelf(r=>n=>ut(n,r))})}),Lr="identity",ba=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],_a=k(Lr,ba,e=>{var{typed:t,config:r,matrix:n,BigNumber:u,DenseMatrix:i,SparseMatrix:o}=e;return t(Lr,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(a){return n(a)},"number | BigNumber":function(a){return l(a,a,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(a,c){return l(a,a,c)},"number | BigNumber, number | BigNumber":function(a,c){return l(a,c,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(a,c,D){return l(a,c,D)},Array:function(a){return s(a)},"Array, string":function(a,c){return s(a,c)},Matrix:function(a){return s(a.valueOf(),a.storage())},"Matrix, string":function(a,c){return s(a.valueOf(),c)}});function s(h,a){switch(h.length){case 0:return a?n(a):[];case 1:return l(h[0],h[0],a);case 2:return l(h[0],h[1],a);default:throw new Error("Vector containing two values expected")}}function l(h,a,c){var D=Ae(h)||Ae(a)?u:null;if(Ae(h)&&(h=h.toNumber()),Ae(a)&&(a=a.toNumber()),!Be(h)||h<1)throw new Error("Parameters in function identity must be positive integers");if(!Be(a)||a<1)throw new Error("Parameters in function identity must be positive integers");var F=D?new u(1):1,A=D?new D(0):0,f=[h,a];if(c){if(c==="sparse")return o.diagonal(f,F,0,A);if(c==="dense")return i.diagonal(f,F,0,A);throw new TypeError('Unknown matrix type "'.concat(c,'"'))}for(var v=nr([],f,A),w=h<a?h:a,B=0;B<w;B++)v[B][B]=F;return v}});function Ma(){throw new Error('No "bignumber" implementation available')}function Sa(){throw new Error('No "fraction" implementation available')}function Ta(){throw new Error('No "matrix" implementation available')}var Zr="size",xa=["typed","config","?matrix"],Oa=k(Zr,xa,e=>{var{typed:t,config:r,matrix:n}=e;return t(Zr,{Matrix:function(i){return i.create(i.size())},Array:Ve,string:function(i){return r.matrix==="Array"?[i.length]:n([i.length])},"number | Complex | BigNumber | Unit | boolean | null":function(i){return r.matrix==="Array"?[]:n?n([]):Ta()}})}),Ia="numeric",za=["number","?bignumber","?fraction"],Pa=k(Ia,za,e=>{var{number:t,bignumber:r,fraction:n}=e,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:o=>t(o),BigNumber:r?o=>r(o):Ma,bigint:o=>BigInt(o),Fraction:n?o=>n(o):Sa};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",h=arguments.length>2?arguments[2]:void 0;if(h!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var a=ht(s);if(!(a in u))throw new TypeError("Cannot convert "+s+' of type "'+a+'"; valid input types are '+Object.keys(u).join(", "));if(!(l in i))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(i).join(", "));return l===a?s:i[l](s)}}),Vr="divideScalar",Ra=["typed","numeric"],qa=k(Vr,Ra,e=>{var{typed:t,numeric:r}=e;return t(Vr,{"number, number":function(u,i){return u/i},"Complex, Complex":function(u,i){return u.div(i)},"BigNumber, BigNumber":function(u,i){return u.div(i)},"bigint, bigint":function(u,i){return u/i},"Fraction, Fraction":function(u,i){return u.div(i)},"Unit, number | Complex | Fraction | BigNumber | Unit":(n,u)=>n.divide(u),"number | Fraction | Complex | BigNumber, Unit":(n,u)=>u.divideInto(n)})}),Hr="dot",$a=["typed","addScalar","multiplyScalar","conj","size"],Ua=k(Hr,$a,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:u,size:i}=e;return t(Hr,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function o(a,c){var D=h(a),F=h(c),A,f;if(D.length===1)A=D[0];else if(D.length===2&&D[1]===1)A=D[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+D.join(", ")+")");if(F.length===1)f=F[0];else if(F.length===2&&F[1]===1)f=F[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+F.join(", ")+")");if(A!==f)throw new RangeError("Vectors must have equal length ("+A+" != "+f+")");if(A===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return A}function s(a,c){var D=o(a,c),F=Ne(a)?a._data:a,A=Ne(a)?a._datatype||a.getDataType():void 0,f=Ne(c)?c._data:c,v=Ne(c)?c._datatype||c.getDataType():void 0,w=h(a).length===2,B=h(c).length===2,g=r,N=n;if(A&&v&&A===v&&typeof A=="string"&&A!=="mixed"){var m=A;g=t.find(r,[m,m]),N=t.find(n,[m,m])}if(!w&&!B){for(var d=N(u(F[0]),f[0]),C=1;C<D;C++)d=g(d,N(u(F[C]),f[C]));return d}if(!w&&B){for(var _=N(u(F[0]),f[0][0]),b=1;b<D;b++)_=g(_,N(u(F[b]),f[b][0]));return _}if(w&&!B){for(var I=N(u(F[0][0]),f[0]),z=1;z<D;z++)I=g(I,N(u(F[z][0]),f[z]));return I}if(w&&B){for(var $=N(u(F[0][0]),f[0][0]),W=1;W<D;W++)$=g($,N(u(F[W][0]),f[W][0]));return $}}function l(a,c){o(a,c);for(var D=a._index,F=a._values,A=c._index,f=c._values,v=0,w=r,B=n,g=0,N=0;g<D.length&&N<A.length;){var m=D[g],d=A[N];if(m<d){g++;continue}if(m>d){N++;continue}m===d&&(v=w(v,B(F[g],f[N])),g++,N++)}return v}function h(a){return Ne(a)?a.size():i(a)}}),Wr="det",La=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],Za=k(Wr,La,e=>{var{typed:t,matrix:r,subtractScalar:n,multiply:u,divideScalar:i,isZero:o,unaryMinus:s}=e;return t(Wr,{any:function(a){return me(a)},"Array | Matrix":function(a){var c;switch(Ne(a)?c=a.size():Array.isArray(a)?(a=r(a),c=a.size()):c=[],c.length){case 0:return me(a);case 1:if(c[0]===1)return me(a.valueOf()[0]);if(c[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+Ee(c)+")");case 2:{var D=c[0],F=c[1];if(D===F)return l(a.clone().valueOf(),D);if(F===0)return 1;throw new RangeError("Matrix must be square (size: "+Ee(c)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ee(c)+")")}}});function l(h,a,c){if(a===1)return me(h[0][0]);if(a===2)return n(u(h[0][0],h[1][1]),u(h[1][0],h[0][1]));for(var D=!1,F=new Array(a).fill(0).map((C,_)=>_),A=0;A<a;A++){var f=F[A];if(o(h[f][A])){var v=void 0;for(v=A+1;v<a;v++)if(!o(h[F[v]][A])){f=F[v],F[v]=F[A],F[A]=f,D=!D;break}if(v===a)return h[f][A]}for(var w=h[f][A],B=A===0?1:h[F[A-1]][A-1],g=A+1;g<a;g++)for(var N=F[g],m=A+1;m<a;m++)h[N][m]=i(n(u(h[N][m],w),u(h[N][A],h[f][m])),B)}var d=h[F[a-1]][a-1];return D?s(d):d}}),Jr="inv",Va=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],Ha=k(Jr,Va,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:u,multiply:i,unaryMinus:o,det:s,identity:l,abs:h}=e;return t(Jr,{"Array | Matrix":function(D){var F=Ne(D)?D.size():Ve(D);switch(F.length){case 1:if(F[0]===1)return Ne(D)?r([n(1,D.valueOf()[0])]):[n(1,D[0])];throw new RangeError("Matrix must be square (size: "+Ee(F)+")");case 2:{var A=F[0],f=F[1];if(A===f)return Ne(D)?r(a(D.valueOf(),A,f),D.storage()):a(D,A,f);throw new RangeError("Matrix must be square (size: "+Ee(F)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+Ee(F)+")")}},any:function(D){return n(1,D)}});function a(c,D,F){var A,f,v,w,B;if(D===1){if(w=c[0][0],w===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,w)]]}else if(D===2){var g=s(c);if(g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(c[1][1],g),n(o(c[0][1]),g)],[n(o(c[1][0]),g),n(c[0][0],g)]]}else{var N=c.concat();for(A=0;A<D;A++)N[A]=N[A].concat();for(var m=l(D).valueOf(),d=0;d<F;d++){var C=h(N[d][d]),_=d;for(A=d+1;A<D;)h(N[A][d])>C&&(C=h(N[A][d]),_=A),A++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");A=_,A!==d&&(B=N[d],N[d]=N[A],N[A]=B,B=m[d],m[d]=m[A],m[A]=B);var b=N[d],I=m[d];for(A=0;A<D;A++){var z=N[A],$=m[A];if(A!==d){if(z[d]!==0){for(v=n(o(z[d]),b[d]),f=d;f<F;f++)z[f]=u(z[f],i(v,b[f]));for(f=0;f<F;f++)$[f]=u($[f],i(v,I[f]))}}else{for(v=b[d],f=d;f<F;f++)z[f]=n(z[f],v);for(f=0;f<F;f++)$[f]=n($[f],v)}}}return m}}}),Wa="divide",Ja=["typed","matrix","multiply","equalScalar","divideScalar","inv"],Ya=k(Wa,Ja,e=>{var{typed:t,matrix:r,multiply:n,equalScalar:u,divideScalar:i,inv:o}=e,s=Sn({typed:t,equalScalar:u}),l=Tn({typed:t});return t("divide",Vu({"Array | Matrix, Array | Matrix":function(a,c){return n(a,o(c))},"DenseMatrix, any":function(a,c){return l(a,c,i,!1)},"SparseMatrix, any":function(a,c){return s(a,c,i,!1)},"Array, any":function(a,c){return l(r(a),c,i,!1).valueOf()},"any, Array | Matrix":function(a,c){return n(a,o(c))}},i.signatures))}),lr=ao({config:Ct}),Xa=ho({}),xn=Eo({}),hr=yo({}),Dr=qo({Matrix:hr}),ge=ci({BigNumber:lr,Complex:Xa,DenseMatrix:Dr,Fraction:xn}),Ga=la({typed:ge}),pr=Da({typed:ge}),Ka=Na({typed:ge}),Wt=Wo({config:Ct,typed:ge}),Qa=Lo({equalScalar:Wt,typed:ge}),On=Aa({typed:ge}),ja=ko({typed:ge}),In=Xo({Matrix:hr,equalScalar:Wt,typed:ge}),ka=da({typed:ge}),es=ra({BigNumber:lr,typed:ge}),zn=fa({typed:ge}),ts=ia({Fraction:xn,typed:ge}),gt=aa({DenseMatrix:Dr,Matrix:hr,SparseMatrix:In,typed:ge}),rs=Pa({bignumber:es,fraction:ts,number:ja}),ns=Oa({matrix:gt,config:Ct,typed:ge}),dr=qa({numeric:rs,typed:ge}),us=_a({BigNumber:lr,DenseMatrix:Dr,SparseMatrix:In,config:Ct,matrix:gt,typed:ge}),is=Ua({addScalar:pr,conj:Ka,multiplyScalar:On,size:ns,typed:ge}),vr=ya({addScalar:pr,dot:is,equalScalar:Wt,matrix:gt,multiplyScalar:On,typed:ge}),os=Za({divideScalar:dr,isZero:Qa,matrix:gt,multiply:vr,subtractScalar:ka,typed:ge,unaryMinus:zn}),as=Ha({abs:Ga,addScalar:pr,det:os,divideScalar:dr,identity:us,matrix:gt,multiply:vr,typed:ge,unaryMinus:zn}),ss=Ya({divideScalar:dr,equalScalar:Wt,inv:as,matrix:gt,multiply:vr,typed:ge});export{lr as BigNumber,Xa as Complex,Dr as DenseMatrix,he as DimensionError,xn as Fraction,mt as IndexError,hr as Matrix,In as SparseMatrix,Ga as abs,pr as addScalar,es as bignumber,Ct as config,Ka as conj,la as createAbs,Da as createAddScalar,ao as createBigNumberClass,ra as createBignumber,ho as createComplexClass,Na as createConj,qo as createDenseMatrixClass,Za as createDet,Ya as createDivide,qa as createDivideScalar,Ua as createDot,Wo as createEqualScalar,ia as createFraction,Eo as createFractionClass,_a as createIdentity,Ha as createInv,Lo as createIsZero,aa as createMatrix,yo as createMatrixClass,ya as createMultiply,Aa as createMultiplyScalar,ko as createNumber,Pa as createNumeric,Oa as createSize,Xo as createSparseMatrixClass,da as createSubtractScalar,ci as createTyped,fa as createUnaryMinus,os as det,ss as divide,dr as divideScalar,is as dot,Wt as equalScalar,k as factory,ts as fraction,us as identity,as as inv,Bu as isAccessorNode,pe as isArray,Nu as isArrayNode,bu as isAssignmentNode,Du as isBigInt,Ae as isBigNumber,_u as isBlockNode,mu as isBoolean,Lu as isChain,Ot as isCollection,Xr as isComplex,Mu as isConditionalNode,Su as isConstantNode,Eu as isDate,pu as isDenseMatrix,Gr as isFraction,wu as isFunction,Tu as isFunctionAssignmentNode,xu as isFunctionNode,Fu as isHelp,ir as isIndex,Ou as isIndexNode,Ne as isMatrix,Iu as isNode,Cu as isNull,le as isNumber,or as isObject,zu as isObjectNode,Pu as isOperatorNode,Ru as isParenthesisNode,vu as isRange,qu as isRangeNode,Au as isRegExp,$u as isRelationalNode,gu as isResultSet,du as isSparseMatrix,Ye as isString,Uu as isSymbolNode,yu as isUndefined,Kr as isUnit,Qa as isZero,gt as matrix,vr as multiply,On as multiplyScalar,ja as number,rs as numeric,ns as size,ka as subtractScalar,ge as typed,zn as unaryMinus};
